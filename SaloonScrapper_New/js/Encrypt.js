var url;


!function (e) { function t(e) { var t = /([A-Z])/; return e.replace(t, "-$1").toLowerCase() } function n(e) { var n, r = ""; for (n in e) e.hasOwnProperty(n) && (r += t(n) + ":" + e[n] + "; "); return r } function r(e, t, n) { var s = [t]; for (var o in t) !i.vendor._.isObject(e[o]) || i.vendor._.isFunction(e[o]) || i.vendor._.isArray(e[o]) || (r(e[o], t[o], n), s.push(o)); return t = i.vendor._.omit.apply(this, s), i.vendor._[n ? "extend" : "defaults"](e, t), e } var i, s, o; e.shortcuts = e.shortcuts || {}, i = e.shortcuts.widgets = {}, i.mobile = {}, i.web = {}, s = { version: "", apiUrl: null, widgetUrl: null, enableRegistrationCode: null, siteId: null, companyUrl: null, consumerKey: null, consumerSecret: null, widgetCredential: null, defaultStylesEnabled: !0, fbAppId: -1, fbCallback: null, accessToken: null, accessTokenType: null }, i.ajaxSigned = function (e, t, n) { var r; return r = n || {}, r.beforeSend = function (e, n) { i.security.OAuth.sign(e, n, t) }, $.ajax(e, r) }, i.createStyleSheet = function (e) { var t, n; return e && o && i.removeStyles(), n = document.createElement("style"), n.appendChild(document.createTextNode("")), n.setAttribute("title", "sw-style"), t = document.getElementsByTagName("head")[0], t || (t = document.getElementsByTagName("html")[0]), t.appendChild(n), e && (o = n), n }, i.addStyles = function (e, t) { for (var n in t) t.hasOwnProperty(n) && i.addStyleRule(e, n, t[n]) }, i.removeStyles = function (e) { e ? $(e).remove() : o && (o.parentNode.removeChild(o), o = null) }, i.addStyleRule = function (e, t, r) { var i = e ? e.sheet : o.sheet; i.addRule ? i.addRule(t, n(r)) : i.insertRule && i.insertRule(t + "{" + n(r) + "}", (i.rules || i.cssRules).length) }, i.init = function (e) { var t; return t = -1 !== i.vendor._.indexOf(["http", "https"], e.protocol) ? e.protocol + "://" : "https:" == document.location.protocol ? "https://" : "http://", s.apiUrl = t + e.apiUrl, s.widgetUrl = t + e.widgetUrl, s.fbCallback = t + e.fbCallback, e.version && (s.version = e.version.split(".").splice(0, 3).join(".")), e.widgetTemplates && i.vendor._.each(e.widgetTemplates, function (e) { var t; for (t in e) e.hasOwnProperty(t) && (e[t] && i.vendor._.isFunction(e[t].trim) && (e[t] = e[t].trim()), e[t] || console.error("Null/empty template given for " + t)) }), i.vendor._.extend(s, i.vendor._.omit(e, ["apiUrl", "widgetUrl", "version", "fbCallback"])), s.fbAppId && i.vendor.openFB.init({ appId: s.fbAppId, tokenStore: window.localStorage }), $.Deferred().resolve() }, i.setAccessTokenDetails = function (e, t) { s.accessToken = e, s.accessTokenType = t }, i.ensureSiteDetailsInCache = function (e, t) { var n, r, o, a; return n = i.vendor._.keys(s.widgetCredential)[0], r = s.widgetCredential[n], o = i.cache.stateCache.get(e, "site"), a = t !== !0 && !i.vendor._.isEmpty(o) && o.company_url && o.regional_settings ? $.Deferred().resolve() : $.when(i.handlers.getApiUrl.call({ siteId: e }, "site").then(function (e) { return i.ajaxSigned(e, { accessToken: r.accessToken, accessTokenSecret: r.accessTokenSecret }, { data: { fields: "links,description" } }) }).then(function (e) { i.vendor._.extend(o, i.vendor._.omit(e, "links")), o.company_url = i.vendor._.find(e.links, function (e) { return "resource/company" === e.rel }).href }), i.handlers.getApiUrl.call({ siteId: e }, "site", "configuration").then(function (e) { return i.ajaxSigned(e, { accessToken: r.accessToken, accessTokenSecret: r.accessTokenSecret }, { data: { fields: "appointment_book,is_online_booking_enabled,is_online_queue_enabled,regional_settings,online_booking,tax,business,walkin_manager,use_insecure_logins" } }) }).then(function (e) { o.regional_settings = {}, o.online_booking = {}, o.tax = {}, o.walkin_manager = {}, o.appointment_book = {}, i.vendor._.extend(o.regional_settings, i.vendor._.omit(e.regional_settings, "href")), i.vendor._.extend(o.online_booking, i.vendor._.omit(e.online_booking, "href")), i.vendor._.extend(o.tax, i.vendor._.omit(e.tax, "href")), i.vendor._.extend(o, i.vendor._.omit(e.business, "href")), i.vendor._.extend(o.walkin_manager, i.vendor._.omit(e.walkin_manager, "href")), i.vendor._.extend(o.appointment_book, i.vendor._.omit(e.appointment_book, "href")), o.is_online_booking_enabled = e.is_online_booking_enabled, o.is_online_queue_enabled = e.is_online_queue_enabled, o.use_insecure_logins = e.use_insecure_logins, i.vendor.Globalize.culture(o.regional_settings.culture_code), i.vendor.moment.locale(o.regional_settings.culture_code) })) }, i.getSiteDateTime = function (e) { var t = i.cache.stateCache.get(e, "site"), n = i.vendor.moment(); return i.vendor._.isNumber(t.timezone_utc_offset_hours) && n.zone(-t.timezone_utc_offset_hours), n }, i.getApiUrl = function () { return s.apiUrl }, i.getWidgetUrl = function () { return s.widgetUrl }, i.getEnableRegistrationCode = function () { return s.enableRegistrationCode }, i.getFacebookCallbackUrl = function () { return s.fbCallback }, i.getAppSetting = function (e) { var t, n, r; for (t = e.split("."), n = 0; n < t.length; n++) r = i.vendor._.isObject(r) ? r[t[n]] : s[t[n]]; return r }, i.getWidgetSpecificAppSetting = function (e, t) { var n, r, s, o, a; if (n = i.getAppSetting(e), a = i.vendor._, s = [t, "*"], r = {}, !n) return null; for (var l = 0; l < s.length; l++) { if (o = n[s[l]], !a.isUndefined(o) && (!a.isObject(o) || o instanceof jQuery)) return o; a.defaults(r, o) } return a.isEmpty(r) ? null : r }; var a = {}; i.registerModule = function (e) { a = r(a, e, !0) }, i.registerWidget = function (e) { var t, n, s, o, l, u, c, d, g; if (t = i.getWidgetSpecificAppSetting("widgetExtraProperties", i._currentPath), n = i.vendor._.extend({}, i.vendor, e, t), n.isClosed = !1, n.$el = i._currentEl, n.path = i._currentPath, n.siteId = i._currentSiteId, n.binder = i.bindings.DataBinder, r(n, { strings: i.strings }, !1), r(n, a, !1), i.vendor._.defaults(n, i.handlers), a = {}, s = function () { var e = i.getWidgetSpecificAppSetting("widgetCredential", i._currentPath); if (!e) throw "Credential not found for '" + i._currentPath + "'"; return e }, o = function (e, t) { var n; return n = { type: e, contentType: "application/json" }, t && (n.data = t), n }, l = function (e) { var t, n, r, s, o; if (t = {}, t.status = e.status, 500 === t.status || 400 === t.status || 503 === t.status) try { if (i.vendor._.extend(t, JSON.parse(e.responseText)), t.errors instanceof Array && t.errors.length > 0) for (t.message = "", s = 0; s < t.errors.length; s++) { if (r = t.errors[s], "system" === r.error_type_code) { t.message = i.strings.systemError; break } "validation" !== t.error_type_code && (o = r.message || (500 === t.status ? i.strings.systemError : i.strings.unauthorisedError), 0 != s && (t.message += "\n"), t.message += r.message) } else 400 === t.status && "InvalidVersion" === t.code ? t.message = i.strings.invalidVersion : "system" === t.error_type_code ? t.message = i.strings.systemError : "offline" === t.error_type_code ? (t.title = i.strings.siteOfflineErrorTitle, t.message = i.strings.siteOfflineError) : "validation" !== t.error_type_code && (o = 500 === t.status ? i.strings.systemError : i.strings.unauthorisedError, t.message = o) } catch (a) { n = a, t.message = i.strings.systemError } else t.message = 403 === t.status ? i.strings.unauthorisedError : 401 === t.status ? i.strings.sessionTimeout : i.strings.systemError; return t }, u = function (e, t, n, r) { var s, o; return s = $.Deferred(), i.ajaxSigned(t, n, r).done(function (t, n, r) { e.isClosed ? r.abort() : s.resolve(t, n, r) }).fail(function (t, n, r) { if (e.isClosed && "abort" != n) t.abort(); else if ("abort" != n) { if (s.reject(t, n, r), t.global === !1) return; o = l(t), e.showAlert(o.message, o.title) } }), s.promise() }, i.cache.widgetCache.set(i._currentSiteId, i._currentPath, n), n.signedGet = function (e, t) { return function (n, r, s) { var a; return s ? (a = o("GET", r || null), u(t, n, e, a)) : i.preloading.read(n, r, e, i.vendor._.partial(u, t)) } }(s(), n), n.signedPost = function (e, t) { return function (n, r) { var i; return i = o("POST", r ? JSON.stringify(r) : null), u(t, n, e, i) } }(s(), n), n.signedPut = function (e, t) { return function (n, r) { var i; return i = o("PUT", r ? JSON.stringify(r) : null), u(t, n, e, i) } }(s(), n), n.signedDelete = function (e, t) { return function (n, r) { var i; return i = o("DELETE", r ? JSON.stringify(r) : null), u(t, n, e, i) } }(s(), n), n.getImageData = function (e) { return function (t) { return i.getImageData(t, e) } }(s()), n.uploadImageToApi = function (e) { return function (t, n, r) { return i.uploadImageToApi(t, n, e, r) } }(s()), i.getAppSetting("defaultStylesEnabled") && n.styles && (n._cssStylesEl = i.createStyleSheet(!1), i.addStyles(n._cssStylesEl, n.styles)), n.getState = function (e) { return i.cache.stateCache.get(this.siteId, e) }, n.setState = function (e, t) { return i.cache.stateCache.set(this.siteId, e, t) }, n.removeState = function (e) { return i.cache.stateCache.remove(this.siteId, e) }, n.getSiteDateTime = function () { return i.getSiteDateTime(this.siteId) }, i.vendor._.isFunction(n.load) || (n.load = function () { return $.Deferred().resolve(this) }.bind(n)), i.vendor._.isFunction(n.render) || (n.render = function () { return this }.bind(n)), i.vendor._.isFunction(n.resize) || (n.resize = function () { return this }.bind(n)), c = function () { return this.isClosed = !0, this.binder.undelegateEvents(n), this.$el.removeData(), this.$el.find("*").removeData().remove(), i.getAppSetting("defaultStylesEnabled") && this._cssStylesEl && i.removeStyles(this._cssStylesEl), this }, i.vendor._.isFunction(n.close) ? (d = n.close, n.close = function () { d.call(n), c.call(n) }) : n.close = c.bind(n), i.vendor._.isFunction(n.onResume) || (n.onResume = function () { return this }.bind(n)), i.vendor._.isFunction(n.getBackSetting) || (n.getBackSetting = function () { return i.BACK_NORMAL }.bind(n)), g = i.getWidgetSpecificAppSetting("widgetTemplates", i._currentPath)) for (var f in g) if (g.hasOwnProperty(f)) { var _; _ = i.vendor._.isFunction(g[f]) ? g[f](i._currentEl, i._currentPath) : g[f], _ && i._currentEl.find("script[type='text/x-shortcuts-template'][data-sw-id='" + f + "']").text(_) } return n }, i.BACK_NORMAL = 0, i.BACK_CLEAR_PREVIOUS = 1, i.BACK_CLEAR_PREVIOUS_UPON_ADDITION = 2, i.BACK_NONE = 3 }(this);
    (function (root) {
        /*
        CryptoJS v3.1.2
        code.google.com/p/crypto-js
        (c) 2009-2013 by Jeff Mott. All rights reserved.
        code.google.com/p/crypto-js/wiki/License
        */
        var CryptoJS = CryptoJS || function (h, r) {
            var k = {}, l = k.lib = {}, n = function () { }, f = l.Base = { extend: function (a) { n.prototype = this; var b = new n; a && b.mixIn(a); b.hasOwnProperty("init") || (b.init = function () { b.$super.init.apply(this, arguments) }); b.init.prototype = b; b.$super = this; return b }, create: function () { var a = this.extend(); a.init.apply(a, arguments); return a }, init: function () { }, mixIn: function (a) { for (var b in a) a.hasOwnProperty(b) && (this[b] = a[b]); a.hasOwnProperty("toString") && (this.toString = a.toString) }, clone: function () { return this.init.prototype.extend(this) } },
            j = l.WordArray = f.extend({
                init: function (a, b) { a = this.words = a || []; this.sigBytes = b != r ? b : 4 * a.length }, toString: function (a) { return (a || s).stringify(this) }, concat: function (a) { var b = this.words, d = a.words, c = this.sigBytes; a = a.sigBytes; this.clamp(); if (c % 4) for (var e = 0; e < a; e++) b[c + e >>> 2] |= (d[e >>> 2] >>> 24 - 8 * (e % 4) & 255) << 24 - 8 * ((c + e) % 4); else if (65535 < d.length) for (e = 0; e < a; e += 4) b[c + e >>> 2] = d[e >>> 2]; else b.push.apply(b, d); this.sigBytes += a; return this }, clamp: function () {
                    var a = this.words, b = this.sigBytes; a[b >>> 2] &= 4294967295 <<
                    32 - 8 * (b % 4); a.length = h.ceil(b / 4)
                }, clone: function () { var a = f.clone.call(this); a.words = this.words.slice(0); return a }, random: function (a) { for (var b = [], d = 0; d < a; d += 4) b.push(4294967296 * h.random() | 0); return new j.init(b, a) }
            }), m = k.enc = {}, s = m.Hex = {
                stringify: function (a) { var b = a.words; a = a.sigBytes; for (var d = [], c = 0; c < a; c++) { var e = b[c >>> 2] >>> 24 - 8 * (c % 4) & 255; d.push((e >>> 4).toString(16)); d.push((e & 15).toString(16)) } return d.join("") }, parse: function (a) {
                    for (var b = a.length, d = [], c = 0; c < b; c += 2) d[c >>> 3] |= parseInt(a.substr(c,
                    2), 16) << 24 - 4 * (c % 8); return new j.init(d, b / 2)
                }
            }, p = m.Latin1 = { stringify: function (a) { var b = a.words; a = a.sigBytes; for (var d = [], c = 0; c < a; c++) d.push(String.fromCharCode(b[c >>> 2] >>> 24 - 8 * (c % 4) & 255)); return d.join("") }, parse: function (a) { for (var b = a.length, d = [], c = 0; c < b; c++) d[c >>> 2] |= (a.charCodeAt(c) & 255) << 24 - 8 * (c % 4); return new j.init(d, b) } }, t = m.Utf8 = { stringify: function (a) { try { return decodeURIComponent(escape(p.stringify(a))) } catch (b) { throw Error("Malformed UTF-8 data"); } }, parse: function (a) { return p.parse(unescape(encodeURIComponent(a))) } },
            q = l.BufferedBlockAlgorithm = f.extend({
                reset: function () { this._data = new j.init; this._nDataBytes = 0 }, _append: function (a) { "string" == typeof a && (a = t.parse(a)); this._data.concat(a); this._nDataBytes += a.sigBytes }, _process: function (a) { var b = this._data, d = b.words, c = b.sigBytes, e = this.blockSize, f = c / (4 * e), f = a ? h.ceil(f) : h.max((f | 0) - this._minBufferSize, 0); a = f * e; c = h.min(4 * a, c); if (a) { for (var g = 0; g < a; g += e) this._doProcessBlock(d, g); g = d.splice(0, a); b.sigBytes -= c } return new j.init(g, c) }, clone: function () {
                    var a = f.clone.call(this);
                    a._data = this._data.clone(); return a
                }, _minBufferSize: 0
            }); l.Hasher = q.extend({
                cfg: f.extend(), init: function (a) { this.cfg = this.cfg.extend(a); this.reset() }, reset: function () { q.reset.call(this); this._doReset() }, update: function (a) { this._append(a); this._process(); return this }, finalize: function (a) { a && this._append(a); return this._doFinalize() }, blockSize: 16, _createHelper: function (a) { return function (b, d) { return (new a.init(d)).finalize(b) } }, _createHmacHelper: function (a) {
                    return function (b, d) {
                        return (new u.HMAC.init(a,
                        d)).finalize(b)
                    }
                }
            }); var u = k.algo = {}; return k
        }(Math);

        this.CryptoJS = CryptoJS;
        /*
        CryptoJS v3.1.2
        code.google.com/p/crypto-js
        (c) 2009-2013 by Jeff Mott. All rights reserved.
        code.google.com/p/crypto-js/wiki/License
        */
        (function () {
            var c = CryptoJS, k = c.enc.Utf8; c.algo.HMAC = c.lib.Base.extend({
                init: function (a, b) { a = this._hasher = new a.init; "string" == typeof b && (b = k.parse(b)); var c = a.blockSize, e = 4 * c; b.sigBytes > e && (b = a.finalize(b)); b.clamp(); for (var f = this._oKey = b.clone(), g = this._iKey = b.clone(), h = f.words, j = g.words, d = 0; d < c; d++) h[d] ^= 1549556828, j[d] ^= 909522486; f.sigBytes = g.sigBytes = e; this.reset() }, reset: function () { var a = this._hasher; a.reset(); a.update(this._iKey) }, update: function (a) { this._hasher.update(a); return this }, finalize: function (a) {
                    var b =
                    this._hasher; a = b.finalize(a); b.reset(); return b.finalize(this._oKey.clone().concat(a))
                }
            })
        })();

        /*
        CryptoJS v3.1.2
        code.google.com/p/crypto-js
        (c) 2009-2013 by Jeff Mott. All rights reserved.
        code.google.com/p/crypto-js/wiki/License
        */
        (function () {
            var k = CryptoJS, b = k.lib, m = b.WordArray, l = b.Hasher, d = [], b = k.algo.SHA1 = l.extend({
                _doReset: function () { this._hash = new m.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520]) }, _doProcessBlock: function (n, p) {
                    for (var a = this._hash.words, e = a[0], f = a[1], h = a[2], j = a[3], b = a[4], c = 0; 80 > c; c++) {
                        if (16 > c) d[c] = n[p + c] | 0; else { var g = d[c - 3] ^ d[c - 8] ^ d[c - 14] ^ d[c - 16]; d[c] = g << 1 | g >>> 31 } g = (e << 5 | e >>> 27) + b + d[c]; g = 20 > c ? g + ((f & h | ~f & j) + 1518500249) : 40 > c ? g + ((f ^ h ^ j) + 1859775393) : 60 > c ? g + ((f & h | f & j | h & j) - 1894007588) : g + ((f ^ h ^
                        j) - 899497514); b = j; j = h; h = f << 30 | f >>> 2; f = e; e = g
                    } a[0] = a[0] + e | 0; a[1] = a[1] + f | 0; a[2] = a[2] + h | 0; a[3] = a[3] + j | 0; a[4] = a[4] + b | 0
                }, _doFinalize: function () { var b = this._data, d = b.words, a = 8 * this._nDataBytes, e = 8 * b.sigBytes; d[e >>> 5] |= 128 << 24 - e % 32; d[(e + 64 >>> 9 << 4) + 14] = Math.floor(a / 4294967296); d[(e + 64 >>> 9 << 4) + 15] = a; b.sigBytes = 4 * d.length; this._process(); return this._hash }, clone: function () { var b = l.clone.call(this); b._hash = this._hash.clone(); return b }
            }); k.SHA1 = l._createHelper(b); k.HmacSHA1 = l._createHmacHelper(b)
        })();

        /*
        CryptoJS v3.1.2
        code.google.com/p/crypto-js
        (c) 2009-2013 by Jeff Mott. All rights reserved.
        code.google.com/p/crypto-js/wiki/License
        */
        (function () {
            var h = CryptoJS, j = h.lib.WordArray; h.enc.Base64 = {
                stringify: function (b) { var e = b.words, f = b.sigBytes, c = this._map; b.clamp(); b = []; for (var a = 0; a < f; a += 3) for (var d = (e[a >>> 2] >>> 24 - 8 * (a % 4) & 255) << 16 | (e[a + 1 >>> 2] >>> 24 - 8 * ((a + 1) % 4) & 255) << 8 | e[a + 2 >>> 2] >>> 24 - 8 * ((a + 2) % 4) & 255, g = 0; 4 > g && a + 0.75 * g < f; g++) b.push(c.charAt(d >>> 6 * (3 - g) & 63)); if (e = c.charAt(64)) for (; b.length % 4;) b.push(e); return b.join("") }, parse: function (b) {
                    var e = b.length, f = this._map, c = f.charAt(64); c && (c = b.indexOf(c), -1 != c && (e = c)); for (var c = [], a = 0, d = 0; d <
                    e; d++) if (d % 4) { var g = f.indexOf(b.charAt(d - 1)) << 2 * (d % 4), h = f.indexOf(b.charAt(d)) >>> 6 - 2 * (d % 4); c[a >>> 2] |= (g | h) << 24 - 8 * (a % 4); a++ } return j.create(c, a)
                }, _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
            }
        })();

        //     Underscore.js 1.8.3
        //     http://underscorejs.org
        //     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
        //     Underscore may be freely distributed under the MIT license.
        (function () { function n(n) { function t(t, r, e, u, i, o) { for (; i >= 0 && o > i; i += n) { var a = u ? u[i] : i; e = r(e, t[a], a, t) } return e } return function (r, e, u, i) { e = b(e, i, 4); var o = !k(r) && m.keys(r), a = (o || r).length, c = n > 0 ? 0 : a - 1; return arguments.length < 3 && (u = r[o ? o[c] : c], c += n), t(r, e, u, o, c, a) } } function t(n) { return function (t, r, e) { r = x(r, e); for (var u = O(t), i = n > 0 ? 0 : u - 1; i >= 0 && u > i; i += n) if (r(t[i], i, t)) return i; return -1 } } function r(n, t, r) { return function (e, u, i) { var o = 0, a = O(e); if ("number" == typeof i) n > 0 ? o = i >= 0 ? i : Math.max(i + a, o) : a = i >= 0 ? Math.min(i + 1, a) : i + a + 1; else if (r && i && a) return i = r(e, u), e[i] === u ? i : -1; if (u !== u) return i = t(l.call(e, o, a), m.isNaN), i >= 0 ? i + o : -1; for (i = n > 0 ? o : a - 1; i >= 0 && a > i; i += n) if (e[i] === u) return i; return -1 } } function e(n, t) { var r = I.length, e = n.constructor, u = m.isFunction(e) && e.prototype || a, i = "constructor"; for (m.has(n, i) && !m.contains(t, i) && t.push(i) ; r--;) i = I[r], i in n && n[i] !== u[i] && !m.contains(t, i) && t.push(i) } var u = this, i = u._, o = Array.prototype, a = Object.prototype, c = Function.prototype, f = o.push, l = o.slice, s = a.toString, p = a.hasOwnProperty, h = Array.isArray, v = Object.keys, g = c.bind, y = Object.create, d = function () { }, m = function (n) { return n instanceof m ? n : this instanceof m ? void (this._wrapped = n) : new m(n) }; "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = m), exports._ = m) : u._ = m, m.VERSION = "1.8.3"; var b = function (n, t, r) { if (t === void 0) return n; switch (null == r ? 3 : r) { case 1: return function (r) { return n.call(t, r) }; case 2: return function (r, e) { return n.call(t, r, e) }; case 3: return function (r, e, u) { return n.call(t, r, e, u) }; case 4: return function (r, e, u, i) { return n.call(t, r, e, u, i) } } return function () { return n.apply(t, arguments) } }, x = function (n, t, r) { return null == n ? m.identity : m.isFunction(n) ? b(n, t, r) : m.isObject(n) ? m.matcher(n) : m.property(n) }; m.iteratee = function (n, t) { return x(n, t, 1 / 0) }; var _ = function (n, t) { return function (r) { var e = arguments.length; if (2 > e || null == r) return r; for (var u = 1; e > u; u++) for (var i = arguments[u], o = n(i), a = o.length, c = 0; a > c; c++) { var f = o[c]; t && r[f] !== void 0 || (r[f] = i[f]) } return r } }, j = function (n) { if (!m.isObject(n)) return {}; if (y) return y(n); d.prototype = n; var t = new d; return d.prototype = null, t }, w = function (n) { return function (t) { return null == t ? void 0 : t[n] } }, A = Math.pow(2, 53) - 1, O = w("length"), k = function (n) { var t = O(n); return "number" == typeof t && t >= 0 && A >= t }; m.each = m.forEach = function (n, t, r) { t = b(t, r); var e, u; if (k(n)) for (e = 0, u = n.length; u > e; e++) t(n[e], e, n); else { var i = m.keys(n); for (e = 0, u = i.length; u > e; e++) t(n[i[e]], i[e], n) } return n }, m.map = m.collect = function (n, t, r) { t = x(t, r); for (var e = !k(n) && m.keys(n), u = (e || n).length, i = Array(u), o = 0; u > o; o++) { var a = e ? e[o] : o; i[o] = t(n[a], a, n) } return i }, m.reduce = m.foldl = m.inject = n(1), m.reduceRight = m.foldr = n(-1), m.find = m.detect = function (n, t, r) { var e; return e = k(n) ? m.findIndex(n, t, r) : m.findKey(n, t, r), e !== void 0 && e !== -1 ? n[e] : void 0 }, m.filter = m.select = function (n, t, r) { var e = []; return t = x(t, r), m.each(n, function (n, r, u) { t(n, r, u) && e.push(n) }), e }, m.reject = function (n, t, r) { return m.filter(n, m.negate(x(t)), r) }, m.every = m.all = function (n, t, r) { t = x(t, r); for (var e = !k(n) && m.keys(n), u = (e || n).length, i = 0; u > i; i++) { var o = e ? e[i] : i; if (!t(n[o], o, n)) return !1 } return !0 }, m.some = m.any = function (n, t, r) { t = x(t, r); for (var e = !k(n) && m.keys(n), u = (e || n).length, i = 0; u > i; i++) { var o = e ? e[i] : i; if (t(n[o], o, n)) return !0 } return !1 }, m.contains = m.includes = m.include = function (n, t, r, e) { return k(n) || (n = m.values(n)), ("number" != typeof r || e) && (r = 0), m.indexOf(n, t, r) >= 0 }, m.invoke = function (n, t) { var r = l.call(arguments, 2), e = m.isFunction(t); return m.map(n, function (n) { var u = e ? t : n[t]; return null == u ? u : u.apply(n, r) }) }, m.pluck = function (n, t) { return m.map(n, m.property(t)) }, m.where = function (n, t) { return m.filter(n, m.matcher(t)) }, m.findWhere = function (n, t) { return m.find(n, m.matcher(t)) }, m.max = function (n, t, r) { var e, u, i = -1 / 0, o = -1 / 0; if (null == t && null != n) { n = k(n) ? n : m.values(n); for (var a = 0, c = n.length; c > a; a++) e = n[a], e > i && (i = e) } else t = x(t, r), m.each(n, function (n, r, e) { u = t(n, r, e), (u > o || u === -1 / 0 && i === -1 / 0) && (i = n, o = u) }); return i }, m.min = function (n, t, r) { var e, u, i = 1 / 0, o = 1 / 0; if (null == t && null != n) { n = k(n) ? n : m.values(n); for (var a = 0, c = n.length; c > a; a++) e = n[a], i > e && (i = e) } else t = x(t, r), m.each(n, function (n, r, e) { u = t(n, r, e), (o > u || 1 / 0 === u && 1 / 0 === i) && (i = n, o = u) }); return i }, m.shuffle = function (n) { for (var t, r = k(n) ? n : m.values(n), e = r.length, u = Array(e), i = 0; e > i; i++) t = m.random(0, i), t !== i && (u[i] = u[t]), u[t] = r[i]; return u }, m.sample = function (n, t, r) { return null == t || r ? (k(n) || (n = m.values(n)), n[m.random(n.length - 1)]) : m.shuffle(n).slice(0, Math.max(0, t)) }, m.sortBy = function (n, t, r) { return t = x(t, r), m.pluck(m.map(n, function (n, r, e) { return { value: n, index: r, criteria: t(n, r, e) } }).sort(function (n, t) { var r = n.criteria, e = t.criteria; if (r !== e) { if (r > e || r === void 0) return 1; if (e > r || e === void 0) return -1 } return n.index - t.index }), "value") }; var F = function (n) { return function (t, r, e) { var u = {}; return r = x(r, e), m.each(t, function (e, i) { var o = r(e, i, t); n(u, e, o) }), u } }; m.groupBy = F(function (n, t, r) { m.has(n, r) ? n[r].push(t) : n[r] = [t] }), m.indexBy = F(function (n, t, r) { n[r] = t }), m.countBy = F(function (n, t, r) { m.has(n, r) ? n[r]++ : n[r] = 1 }), m.toArray = function (n) { return n ? m.isArray(n) ? l.call(n) : k(n) ? m.map(n, m.identity) : m.values(n) : [] }, m.size = function (n) { return null == n ? 0 : k(n) ? n.length : m.keys(n).length }, m.partition = function (n, t, r) { t = x(t, r); var e = [], u = []; return m.each(n, function (n, r, i) { (t(n, r, i) ? e : u).push(n) }), [e, u] }, m.first = m.head = m.take = function (n, t, r) { return null == n ? void 0 : null == t || r ? n[0] : m.initial(n, n.length - t) }, m.initial = function (n, t, r) { return l.call(n, 0, Math.max(0, n.length - (null == t || r ? 1 : t))) }, m.last = function (n, t, r) { return null == n ? void 0 : null == t || r ? n[n.length - 1] : m.rest(n, Math.max(0, n.length - t)) }, m.rest = m.tail = m.drop = function (n, t, r) { return l.call(n, null == t || r ? 1 : t) }, m.compact = function (n) { return m.filter(n, m.identity) }; var S = function (n, t, r, e) { for (var u = [], i = 0, o = e || 0, a = O(n) ; a > o; o++) { var c = n[o]; if (k(c) && (m.isArray(c) || m.isArguments(c))) { t || (c = S(c, t, r)); var f = 0, l = c.length; for (u.length += l; l > f;) u[i++] = c[f++] } else r || (u[i++] = c) } return u }; m.flatten = function (n, t) { return S(n, t, !1) }, m.without = function (n) { return m.difference(n, l.call(arguments, 1)) }, m.uniq = m.unique = function (n, t, r, e) { m.isBoolean(t) || (e = r, r = t, t = !1), null != r && (r = x(r, e)); for (var u = [], i = [], o = 0, a = O(n) ; a > o; o++) { var c = n[o], f = r ? r(c, o, n) : c; t ? (o && i === f || u.push(c), i = f) : r ? m.contains(i, f) || (i.push(f), u.push(c)) : m.contains(u, c) || u.push(c) } return u }, m.union = function () { return m.uniq(S(arguments, !0, !0)) }, m.intersection = function (n) { for (var t = [], r = arguments.length, e = 0, u = O(n) ; u > e; e++) { var i = n[e]; if (!m.contains(t, i)) { for (var o = 1; r > o && m.contains(arguments[o], i) ; o++); o === r && t.push(i) } } return t }, m.difference = function (n) { var t = S(arguments, !0, !0, 1); return m.filter(n, function (n) { return !m.contains(t, n) }) }, m.zip = function () { return m.unzip(arguments) }, m.unzip = function (n) { for (var t = n && m.max(n, O).length || 0, r = Array(t), e = 0; t > e; e++) r[e] = m.pluck(n, e); return r }, m.object = function (n, t) { for (var r = {}, e = 0, u = O(n) ; u > e; e++) t ? r[n[e]] = t[e] : r[n[e][0]] = n[e][1]; return r }, m.findIndex = t(1), m.findLastIndex = t(-1), m.sortedIndex = function (n, t, r, e) { r = x(r, e, 1); for (var u = r(t), i = 0, o = O(n) ; o > i;) { var a = Math.floor((i + o) / 2); r(n[a]) < u ? i = a + 1 : o = a } return i }, m.indexOf = r(1, m.findIndex, m.sortedIndex), m.lastIndexOf = r(-1, m.findLastIndex), m.range = function (n, t, r) { null == t && (t = n || 0, n = 0), r = r || 1; for (var e = Math.max(Math.ceil((t - n) / r), 0), u = Array(e), i = 0; e > i; i++, n += r) u[i] = n; return u }; var E = function (n, t, r, e, u) { if (!(e instanceof t)) return n.apply(r, u); var i = j(n.prototype), o = n.apply(i, u); return m.isObject(o) ? o : i }; m.bind = function (n, t) { if (g && n.bind === g) return g.apply(n, l.call(arguments, 1)); if (!m.isFunction(n)) throw new TypeError("Bind must be called on a function"); var r = l.call(arguments, 2), e = function () { return E(n, e, t, this, r.concat(l.call(arguments))) }; return e }, m.partial = function (n) { var t = l.call(arguments, 1), r = function () { for (var e = 0, u = t.length, i = Array(u), o = 0; u > o; o++) i[o] = t[o] === m ? arguments[e++] : t[o]; for (; e < arguments.length;) i.push(arguments[e++]); return E(n, r, this, this, i) }; return r }, m.bindAll = function (n) { var t, r, e = arguments.length; if (1 >= e) throw new Error("bindAll must be passed function names"); for (t = 1; e > t; t++) r = arguments[t], n[r] = m.bind(n[r], n); return n }, m.memoize = function (n, t) { var r = function (e) { var u = r.cache, i = "" + (t ? t.apply(this, arguments) : e); return m.has(u, i) || (u[i] = n.apply(this, arguments)), u[i] }; return r.cache = {}, r }, m.delay = function (n, t) { var r = l.call(arguments, 2); return setTimeout(function () { return n.apply(null, r) }, t) }, m.defer = m.partial(m.delay, m, 1), m.throttle = function (n, t, r) { var e, u, i, o = null, a = 0; r || (r = {}); var c = function () { a = r.leading === !1 ? 0 : m.now(), o = null, i = n.apply(e, u), o || (e = u = null) }; return function () { var f = m.now(); a || r.leading !== !1 || (a = f); var l = t - (f - a); return e = this, u = arguments, 0 >= l || l > t ? (o && (clearTimeout(o), o = null), a = f, i = n.apply(e, u), o || (e = u = null)) : o || r.trailing === !1 || (o = setTimeout(c, l)), i } }, m.debounce = function (n, t, r) { var e, u, i, o, a, c = function () { var f = m.now() - o; t > f && f >= 0 ? e = setTimeout(c, t - f) : (e = null, r || (a = n.apply(i, u), e || (i = u = null))) }; return function () { i = this, u = arguments, o = m.now(); var f = r && !e; return e || (e = setTimeout(c, t)), f && (a = n.apply(i, u), i = u = null), a } }, m.wrap = function (n, t) { return m.partial(t, n) }, m.negate = function (n) { return function () { return !n.apply(this, arguments) } }, m.compose = function () { var n = arguments, t = n.length - 1; return function () { for (var r = t, e = n[t].apply(this, arguments) ; r--;) e = n[r].call(this, e); return e } }, m.after = function (n, t) { return function () { return --n < 1 ? t.apply(this, arguments) : void 0 } }, m.before = function (n, t) { var r; return function () { return --n > 0 && (r = t.apply(this, arguments)), 1 >= n && (t = null), r } }, m.once = m.partial(m.before, 2); var M = !{ toString: null }.propertyIsEnumerable("toString"), I = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"]; m.keys = function (n) { if (!m.isObject(n)) return []; if (v) return v(n); var t = []; for (var r in n) m.has(n, r) && t.push(r); return M && e(n, t), t }, m.allKeys = function (n) { if (!m.isObject(n)) return []; var t = []; for (var r in n) t.push(r); return M && e(n, t), t }, m.values = function (n) { for (var t = m.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++) e[u] = n[t[u]]; return e }, m.mapObject = function (n, t, r) { t = x(t, r); for (var e, u = m.keys(n), i = u.length, o = {}, a = 0; i > a; a++) e = u[a], o[e] = t(n[e], e, n); return o }, m.pairs = function (n) { for (var t = m.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++) e[u] = [t[u], n[t[u]]]; return e }, m.invert = function (n) { for (var t = {}, r = m.keys(n), e = 0, u = r.length; u > e; e++) t[n[r[e]]] = r[e]; return t }, m.functions = m.methods = function (n) { var t = []; for (var r in n) m.isFunction(n[r]) && t.push(r); return t.sort() }, m.extend = _(m.allKeys), m.extendOwn = m.assign = _(m.keys), m.findKey = function (n, t, r) { t = x(t, r); for (var e, u = m.keys(n), i = 0, o = u.length; o > i; i++) if (e = u[i], t(n[e], e, n)) return e }, m.pick = function (n, t, r) { var e, u, i = {}, o = n; if (null == o) return i; m.isFunction(t) ? (u = m.allKeys(o), e = b(t, r)) : (u = S(arguments, !1, !1, 1), e = function (n, t, r) { return t in r }, o = Object(o)); for (var a = 0, c = u.length; c > a; a++) { var f = u[a], l = o[f]; e(l, f, o) && (i[f] = l) } return i }, m.omit = function (n, t, r) { if (m.isFunction(t)) t = m.negate(t); else { var e = m.map(S(arguments, !1, !1, 1), String); t = function (n, t) { return !m.contains(e, t) } } return m.pick(n, t, r) }, m.defaults = _(m.allKeys, !0), m.create = function (n, t) { var r = j(n); return t && m.extendOwn(r, t), r }, m.clone = function (n) { return m.isObject(n) ? m.isArray(n) ? n.slice() : m.extend({}, n) : n }, m.tap = function (n, t) { return t(n), n }, m.isMatch = function (n, t) { var r = m.keys(t), e = r.length; if (null == n) return !e; for (var u = Object(n), i = 0; e > i; i++) { var o = r[i]; if (t[o] !== u[o] || !(o in u)) return !1 } return !0 }; var N = function (n, t, r, e) { if (n === t) return 0 !== n || 1 / n === 1 / t; if (null == n || null == t) return n === t; n instanceof m && (n = n._wrapped), t instanceof m && (t = t._wrapped); var u = s.call(n); if (u !== s.call(t)) return !1; switch (u) { case "[object RegExp]": case "[object String]": return "" + n == "" + t; case "[object Number]": return +n !== +n ? +t !== +t : 0 === +n ? 1 / +n === 1 / t : +n === +t; case "[object Date]": case "[object Boolean]": return +n === +t } var i = "[object Array]" === u; if (!i) { if ("object" != typeof n || "object" != typeof t) return !1; var o = n.constructor, a = t.constructor; if (o !== a && !(m.isFunction(o) && o instanceof o && m.isFunction(a) && a instanceof a) && "constructor" in n && "constructor" in t) return !1 } r = r || [], e = e || []; for (var c = r.length; c--;) if (r[c] === n) return e[c] === t; if (r.push(n), e.push(t), i) { if (c = n.length, c !== t.length) return !1; for (; c--;) if (!N(n[c], t[c], r, e)) return !1 } else { var f, l = m.keys(n); if (c = l.length, m.keys(t).length !== c) return !1; for (; c--;) if (f = l[c], !m.has(t, f) || !N(n[f], t[f], r, e)) return !1 } return r.pop(), e.pop(), !0 }; m.isEqual = function (n, t) { return N(n, t) }, m.isEmpty = function (n) { return null == n ? !0 : k(n) && (m.isArray(n) || m.isString(n) || m.isArguments(n)) ? 0 === n.length : 0 === m.keys(n).length }, m.isElement = function (n) { return !(!n || 1 !== n.nodeType) }, m.isArray = h || function (n) { return "[object Array]" === s.call(n) }, m.isObject = function (n) { var t = typeof n; return "function" === t || "object" === t && !!n }, m.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function (n) { m["is" + n] = function (t) { return s.call(t) === "[object " + n + "]" } }), m.isArguments(arguments) || (m.isArguments = function (n) { return m.has(n, "callee") }), "function" != typeof /./ && "object" != typeof Int8Array && (m.isFunction = function (n) { return "function" == typeof n || !1 }), m.isFinite = function (n) { return isFinite(n) && !isNaN(parseFloat(n)) }, m.isNaN = function (n) { return m.isNumber(n) && n !== +n }, m.isBoolean = function (n) { return n === !0 || n === !1 || "[object Boolean]" === s.call(n) }, m.isNull = function (n) { return null === n }, m.isUndefined = function (n) { return n === void 0 }, m.has = function (n, t) { return null != n && p.call(n, t) }, m.noConflict = function () { return u._ = i, this }, m.identity = function (n) { return n }, m.constant = function (n) { return function () { return n } }, m.noop = function () { }, m.property = w, m.propertyOf = function (n) { return null == n ? function () { } : function (t) { return n[t] } }, m.matcher = m.matches = function (n) { return n = m.extendOwn({}, n), function (t) { return m.isMatch(t, n) } }, m.times = function (n, t, r) { var e = Array(Math.max(0, n)); t = b(t, r, 1); for (var u = 0; n > u; u++) e[u] = t(u); return e }, m.random = function (n, t) { return null == t && (t = n, n = 0), n + Math.floor(Math.random() * (t - n + 1)) }, m.now = Date.now || function () { return (new Date).getTime() }; var B = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, T = m.invert(B), R = function (n) { var t = function (t) { return n[t] }, r = "(?:" + m.keys(n).join("|") + ")", e = RegExp(r), u = RegExp(r, "g"); return function (n) { return n = null == n ? "" : "" + n, e.test(n) ? n.replace(u, t) : n } }; m.escape = R(B), m.unescape = R(T), m.result = function (n, t, r) { var e = null == n ? void 0 : n[t]; return e === void 0 && (e = r), m.isFunction(e) ? e.call(n) : e }; var q = 0; m.uniqueId = function (n) { var t = ++q + ""; return n ? n + t : t }, m.templateSettings = { evaluate: /<%([\s\S]+?)%>/g, interpolate: /<%=([\s\S]+?)%>/g, escape: /<%-([\s\S]+?)%>/g }; var K = /(.)^/, z = { "'": "'", "\\": "\\", "\r": "r", "\n": "n", "\u2028": "u2028", "\u2029": "u2029" }, D = /\\|'|\r|\n|\u2028|\u2029/g, L = function (n) { return "\\" + z[n] }; m.template = function (n, t, r) { !t && r && (t = r), t = m.defaults({}, t, m.templateSettings); var e = RegExp([(t.escape || K).source, (t.interpolate || K).source, (t.evaluate || K).source].join("|") + "|$", "g"), u = 0, i = "__p+='"; n.replace(e, function (t, r, e, o, a) { return i += n.slice(u, a).replace(D, L), u = a + t.length, r ? i += "'+\n((__t=(" + r + "))==null?'':_.escape(__t))+\n'" : e ? i += "'+\n((__t=(" + e + "))==null?'':__t)+\n'" : o && (i += "';\n" + o + "\n__p+='"), t }), i += "';\n", t.variable || (i = "with(obj||{}){\n" + i + "}\n"), i = "var __t,__p='',__j=Array.prototype.join," + "print=function(){__p+=__j.call(arguments,'');};\n" + i + "return __p;\n"; try { var o = new Function(t.variable || "obj", "_", i) } catch (a) { throw a.source = i, a } var c = function (n) { return o.call(this, n, m) }, f = t.variable || "obj"; return c.source = "function(" + f + "){\n" + i + "}", c }, m.chain = function (n) { var t = m(n); return t._chain = !0, t }; var P = function (n, t) { return n._chain ? m(t).chain() : t }; m.mixin = function (n) { m.each(m.functions(n), function (t) { var r = m[t] = n[t]; m.prototype[t] = function () { var n = [this._wrapped]; return f.apply(n, arguments), P(this, r.apply(m, n)) } }) }, m.mixin(m), m.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function (n) { var t = o[n]; m.prototype[n] = function () { var r = this._wrapped; return t.apply(r, arguments), "shift" !== n && "splice" !== n || 0 !== r.length || delete r[0], P(this, r) } }), m.each(["concat", "join", "slice"], function (n) { var t = o[n]; m.prototype[n] = function () { return P(this, t.apply(this._wrapped, arguments)) } }), m.prototype.value = function () { return this._wrapped }, m.prototype.valueOf = m.prototype.toJSON = m.prototype.value, m.prototype.toString = function () { return "" + this._wrapped }, "function" == typeof define && define.amd && define("underscore", [], function () { return m }) }).call(this);
        //# sourceMappingURL=underscore-min.map
        //! moment.js
        //! version : 2.8.3
        //! authors : Tim Wood, Iskren Chernev, Moment.js contributors
        //! license : MIT
        //! momentjs.com
        (function (a) {
            function b(a, b, c) { switch (arguments.length) { case 2: return null != a ? a : b; case 3: return null != a ? a : null != b ? b : c; default: throw new Error("Implement me") } } function c(a, b) { return zb.call(a, b) } function d() { return { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1 } } function e(a) { tb.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + a) } function f(a, b) { var c = !0; return m(function () { return c && (e(a), c = !1), b.apply(this, arguments) }, b) } function g(a, b) { qc[a] || (e(b), qc[a] = !0) } function h(a, b) { return function (c) { return p(a.call(this, c), b) } } function i(a, b) { return function (c) { return this.localeData().ordinal(a.call(this, c), b) } } function j() { } function k(a, b) { b !== !1 && F(a), n(this, a), this._d = new Date(+a._d) } function l(a) { var b = y(a), c = b.year || 0, d = b.quarter || 0, e = b.month || 0, f = b.week || 0, g = b.day || 0, h = b.hour || 0, i = b.minute || 0, j = b.second || 0, k = b.millisecond || 0; this._milliseconds = +k + 1e3 * j + 6e4 * i + 36e5 * h, this._days = +g + 7 * f, this._months = +e + 3 * d + 12 * c, this._data = {}, this._locale = tb.localeData(), this._bubble() } function m(a, b) { for (var d in b) c(b, d) && (a[d] = b[d]); return c(b, "toString") && (a.toString = b.toString), c(b, "valueOf") && (a.valueOf = b.valueOf), a } function n(a, b) { var c, d, e; if ("undefined" != typeof b._isAMomentObject && (a._isAMomentObject = b._isAMomentObject), "undefined" != typeof b._i && (a._i = b._i), "undefined" != typeof b._f && (a._f = b._f), "undefined" != typeof b._l && (a._l = b._l), "undefined" != typeof b._strict && (a._strict = b._strict), "undefined" != typeof b._tzm && (a._tzm = b._tzm), "undefined" != typeof b._isUTC && (a._isUTC = b._isUTC), "undefined" != typeof b._offset && (a._offset = b._offset), "undefined" != typeof b._pf && (a._pf = b._pf), "undefined" != typeof b._locale && (a._locale = b._locale), Ib.length > 0) for (c in Ib) d = Ib[c], e = b[d], "undefined" != typeof e && (a[d] = e); return a } function o(a) { return 0 > a ? Math.ceil(a) : Math.floor(a) } function p(a, b, c) { for (var d = "" + Math.abs(a), e = a >= 0; d.length < b;) d = "0" + d; return (e ? c ? "+" : "" : "-") + d } function q(a, b) { var c = { milliseconds: 0, months: 0 }; return c.months = b.month() - a.month() + 12 * (b.year() - a.year()), a.clone().add(c.months, "M").isAfter(b) && --c.months, c.milliseconds = +b - +a.clone().add(c.months, "M"), c } function r(a, b) { var c; return b = K(b, a), a.isBefore(b) ? c = q(a, b) : (c = q(b, a), c.milliseconds = -c.milliseconds, c.months = -c.months), c } function s(a, b) { return function (c, d) { var e, f; return null === d || isNaN(+d) || (g(b, "moment()." + b + "(period, number) is deprecated. Please use moment()." + b + "(number, period)."), f = c, c = d, d = f), c = "string" == typeof c ? +c : c, e = tb.duration(c, d), t(this, e, a), this } } function t(a, b, c, d) { var e = b._milliseconds, f = b._days, g = b._months; d = null == d ? !0 : d, e && a._d.setTime(+a._d + e * c), f && nb(a, "Date", mb(a, "Date") + f * c), g && lb(a, mb(a, "Month") + g * c), d && tb.updateOffset(a, f || g) } function u(a) { return "[object Array]" === Object.prototype.toString.call(a) } function v(a) { return "[object Date]" === Object.prototype.toString.call(a) || a instanceof Date } function w(a, b, c) { var d, e = Math.min(a.length, b.length), f = Math.abs(a.length - b.length), g = 0; for (d = 0; e > d; d++) (c && a[d] !== b[d] || !c && A(a[d]) !== A(b[d])) && g++; return g + f } function x(a) { if (a) { var b = a.toLowerCase().replace(/(.)s$/, "$1"); a = jc[a] || kc[b] || b } return a } function y(a) { var b, d, e = {}; for (d in a) c(a, d) && (b = x(d), b && (e[b] = a[d])); return e } function z(b) { var c, d; if (0 === b.indexOf("week")) c = 7, d = "day"; else { if (0 !== b.indexOf("month")) return; c = 12, d = "month" } tb[b] = function (e, f) { var g, h, i = tb._locale[b], j = []; if ("number" == typeof e && (f = e, e = a), h = function (a) { var b = tb().utc().set(d, a); return i.call(tb._locale, b, e || "") }, null != f) return h(f); for (g = 0; c > g; g++) j.push(h(g)); return j } } function A(a) { var b = +a, c = 0; return 0 !== b && isFinite(b) && (c = b >= 0 ? Math.floor(b) : Math.ceil(b)), c } function B(a, b) { return new Date(Date.UTC(a, b + 1, 0)).getUTCDate() } function C(a, b, c) { return hb(tb([a, 11, 31 + b - c]), b, c).week } function D(a) { return E(a) ? 366 : 365 } function E(a) { return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0 } function F(a) { var b; a._a && -2 === a._pf.overflow && (b = a._a[Bb] < 0 || a._a[Bb] > 11 ? Bb : a._a[Cb] < 1 || a._a[Cb] > B(a._a[Ab], a._a[Bb]) ? Cb : a._a[Db] < 0 || a._a[Db] > 23 ? Db : a._a[Eb] < 0 || a._a[Eb] > 59 ? Eb : a._a[Fb] < 0 || a._a[Fb] > 59 ? Fb : a._a[Gb] < 0 || a._a[Gb] > 999 ? Gb : -1, a._pf._overflowDayOfYear && (Ab > b || b > Cb) && (b = Cb), a._pf.overflow = b) } function G(a) { return null == a._isValid && (a._isValid = !isNaN(a._d.getTime()) && a._pf.overflow < 0 && !a._pf.empty && !a._pf.invalidMonth && !a._pf.nullInput && !a._pf.invalidFormat && !a._pf.userInvalidated, a._strict && (a._isValid = a._isValid && 0 === a._pf.charsLeftOver && 0 === a._pf.unusedTokens.length)), a._isValid } function H(a) { return a ? a.toLowerCase().replace("_", "-") : a } function I(a) { for (var b, c, d, e, f = 0; f < a.length;) { for (e = H(a[f]).split("-"), b = e.length, c = H(a[f + 1]), c = c ? c.split("-") : null; b > 0;) { if (d = J(e.slice(0, b).join("-"))) return d; if (c && c.length >= b && w(e, c, !0) >= b - 1) break; b-- } f++ } return null } function J(a) { var b = null; if (!Hb[a] && Jb) try { b = tb.locale(), require("./locale/" + a), tb.locale(b) } catch (c) { } return Hb[a] } function K(a, b) { return b._isUTC ? tb(a).zone(b._offset || 0) : tb(a).local() } function L(a) { return a.match(/\[[\s\S]/) ? a.replace(/^\[|\]$/g, "") : a.replace(/\\/g, "") } function M(a) { var b, c, d = a.match(Nb); for (b = 0, c = d.length; c > b; b++) d[b] = pc[d[b]] ? pc[d[b]] : L(d[b]); return function (e) { var f = ""; for (b = 0; c > b; b++) f += d[b] instanceof Function ? d[b].call(e, a) : d[b]; return f } } function N(a, b) { return a.isValid() ? (b = O(b, a.localeData()), lc[b] || (lc[b] = M(b)), lc[b](a)) : a.localeData().invalidDate() } function O(a, b) { function c(a) { return b.longDateFormat(a) || a } var d = 5; for (Ob.lastIndex = 0; d >= 0 && Ob.test(a) ;) a = a.replace(Ob, c), Ob.lastIndex = 0, d -= 1; return a } function P(a, b) { var c, d = b._strict; switch (a) { case "Q": return Zb; case "DDDD": return _b; case "YYYY": case "GGGG": case "gggg": return d ? ac : Rb; case "Y": case "G": case "g": return cc; case "YYYYYY": case "YYYYY": case "GGGGG": case "ggggg": return d ? bc : Sb; case "S": if (d) return Zb; case "SS": if (d) return $b; case "SSS": if (d) return _b; case "DDD": return Qb; case "MMM": case "MMMM": case "dd": case "ddd": case "dddd": return Ub; case "a": case "A": return b._locale._meridiemParse; case "X": return Xb; case "Z": case "ZZ": return Vb; case "T": return Wb; case "SSSS": return Tb; case "MM": case "DD": case "YY": case "GG": case "gg": case "HH": case "hh": case "mm": case "ss": case "ww": case "WW": return d ? $b : Pb; case "M": case "D": case "d": case "H": case "h": case "m": case "s": case "w": case "W": case "e": case "E": return Pb; case "Do": return Yb; default: return c = new RegExp(Y(X(a.replace("\\", "")), "i")) } } function Q(a) { a = a || ""; var b = a.match(Vb) || [], c = b[b.length - 1] || [], d = (c + "").match(hc) || ["-", 0, 0], e = +(60 * d[1]) + A(d[2]); return "+" === d[0] ? -e : e } function R(a, b, c) { var d, e = c._a; switch (a) { case "Q": null != b && (e[Bb] = 3 * (A(b) - 1)); break; case "M": case "MM": null != b && (e[Bb] = A(b) - 1); break; case "MMM": case "MMMM": d = c._locale.monthsParse(b), null != d ? e[Bb] = d : c._pf.invalidMonth = b; break; case "D": case "DD": null != b && (e[Cb] = A(b)); break; case "Do": null != b && (e[Cb] = A(parseInt(b, 10))); break; case "DDD": case "DDDD": null != b && (c._dayOfYear = A(b)); break; case "YY": e[Ab] = tb.parseTwoDigitYear(b); break; case "YYYY": case "YYYYY": case "YYYYYY": e[Ab] = A(b); break; case "a": case "A": c._isPm = c._locale.isPM(b); break; case "H": case "HH": case "h": case "hh": e[Db] = A(b); break; case "m": case "mm": e[Eb] = A(b); break; case "s": case "ss": e[Fb] = A(b); break; case "S": case "SS": case "SSS": case "SSSS": e[Gb] = A(1e3 * ("0." + b)); break; case "X": c._d = new Date(1e3 * parseFloat(b)); break; case "Z": case "ZZ": c._useUTC = !0, c._tzm = Q(b); break; case "dd": case "ddd": case "dddd": d = c._locale.weekdaysParse(b), null != d ? (c._w = c._w || {}, c._w.d = d) : c._pf.invalidWeekday = b; break; case "w": case "ww": case "W": case "WW": case "d": case "e": case "E": a = a.substr(0, 1); case "gggg": case "GGGG": case "GGGGG": a = a.substr(0, 2), b && (c._w = c._w || {}, c._w[a] = A(b)); break; case "gg": case "GG": c._w = c._w || {}, c._w[a] = tb.parseTwoDigitYear(b) } } function S(a) { var c, d, e, f, g, h, i; c = a._w, null != c.GG || null != c.W || null != c.E ? (g = 1, h = 4, d = b(c.GG, a._a[Ab], hb(tb(), 1, 4).year), e = b(c.W, 1), f = b(c.E, 1)) : (g = a._locale._week.dow, h = a._locale._week.doy, d = b(c.gg, a._a[Ab], hb(tb(), g, h).year), e = b(c.w, 1), null != c.d ? (f = c.d, g > f && ++e) : f = null != c.e ? c.e + g : g), i = ib(d, e, f, h, g), a._a[Ab] = i.year, a._dayOfYear = i.dayOfYear } function T(a) { var c, d, e, f, g = []; if (!a._d) { for (e = V(a), a._w && null == a._a[Cb] && null == a._a[Bb] && S(a), a._dayOfYear && (f = b(a._a[Ab], e[Ab]), a._dayOfYear > D(f) && (a._pf._overflowDayOfYear = !0), d = db(f, 0, a._dayOfYear), a._a[Bb] = d.getUTCMonth(), a._a[Cb] = d.getUTCDate()), c = 0; 3 > c && null == a._a[c]; ++c) a._a[c] = g[c] = e[c]; for (; 7 > c; c++) a._a[c] = g[c] = null == a._a[c] ? 2 === c ? 1 : 0 : a._a[c]; a._d = (a._useUTC ? db : cb).apply(null, g), null != a._tzm && a._d.setUTCMinutes(a._d.getUTCMinutes() + a._tzm) } } function U(a) { var b; a._d || (b = y(a._i), a._a = [b.year, b.month, b.day, b.hour, b.minute, b.second, b.millisecond], T(a)) } function V(a) { var b = new Date; return a._useUTC ? [b.getUTCFullYear(), b.getUTCMonth(), b.getUTCDate()] : [b.getFullYear(), b.getMonth(), b.getDate()] } function W(a) { if (a._f === tb.ISO_8601) return void $(a); a._a = [], a._pf.empty = !0; var b, c, d, e, f, g = "" + a._i, h = g.length, i = 0; for (d = O(a._f, a._locale).match(Nb) || [], b = 0; b < d.length; b++) e = d[b], c = (g.match(P(e, a)) || [])[0], c && (f = g.substr(0, g.indexOf(c)), f.length > 0 && a._pf.unusedInput.push(f), g = g.slice(g.indexOf(c) + c.length), i += c.length), pc[e] ? (c ? a._pf.empty = !1 : a._pf.unusedTokens.push(e), R(e, c, a)) : a._strict && !c && a._pf.unusedTokens.push(e); a._pf.charsLeftOver = h - i, g.length > 0 && a._pf.unusedInput.push(g), a._isPm && a._a[Db] < 12 && (a._a[Db] += 12), a._isPm === !1 && 12 === a._a[Db] && (a._a[Db] = 0), T(a), F(a) } function X(a) { return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (a, b, c, d, e) { return b || c || d || e }) } function Y(a) { return a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } function Z(a) { var b, c, e, f, g; if (0 === a._f.length) return a._pf.invalidFormat = !0, void (a._d = new Date(0 / 0)); for (f = 0; f < a._f.length; f++) g = 0, b = n({}, a), null != a._useUTC && (b._useUTC = a._useUTC), b._pf = d(), b._f = a._f[f], W(b), G(b) && (g += b._pf.charsLeftOver, g += 10 * b._pf.unusedTokens.length, b._pf.score = g, (null == e || e > g) && (e = g, c = b)); m(a, c || b) } function $(a) { var b, c, d = a._i, e = dc.exec(d); if (e) { for (a._pf.iso = !0, b = 0, c = fc.length; c > b; b++) if (fc[b][1].exec(d)) { a._f = fc[b][0] + (e[6] || " "); break } for (b = 0, c = gc.length; c > b; b++) if (gc[b][1].exec(d)) { a._f += gc[b][0]; break } d.match(Vb) && (a._f += "Z"), W(a) } else a._isValid = !1 } function _(a) { $(a), a._isValid === !1 && (delete a._isValid, tb.createFromInputFallback(a)) } function ab(a, b) { var c, d = []; for (c = 0; c < a.length; ++c) d.push(b(a[c], c)); return d } function bb(b) { var c, d = b._i; d === a ? b._d = new Date : v(d) ? b._d = new Date(+d) : null !== (c = Kb.exec(d)) ? b._d = new Date(+c[1]) : "string" == typeof d ? _(b) : u(d) ? (b._a = ab(d.slice(0), function (a) { return parseInt(a, 10) }), T(b)) : "object" == typeof d ? U(b) : "number" == typeof d ? b._d = new Date(d) : tb.createFromInputFallback(b) } function cb(a, b, c, d, e, f, g) { var h = new Date(a, b, c, d, e, f, g); return 1970 > a && h.setFullYear(a), h } function db(a) { var b = new Date(Date.UTC.apply(null, arguments)); return 1970 > a && b.setUTCFullYear(a), b } function eb(a, b) { if ("string" == typeof a) if (isNaN(a)) { if (a = b.weekdaysParse(a), "number" != typeof a) return null } else a = parseInt(a, 10); return a } function fb(a, b, c, d, e) { return e.relativeTime(b || 1, !!c, a, d) } function gb(a, b, c) { var d = tb.duration(a).abs(), e = yb(d.as("s")), f = yb(d.as("m")), g = yb(d.as("h")), h = yb(d.as("d")), i = yb(d.as("M")), j = yb(d.as("y")), k = e < mc.s && ["s", e] || 1 === f && ["m"] || f < mc.m && ["mm", f] || 1 === g && ["h"] || g < mc.h && ["hh", g] || 1 === h && ["d"] || h < mc.d && ["dd", h] || 1 === i && ["M"] || i < mc.M && ["MM", i] || 1 === j && ["y"] || ["yy", j]; return k[2] = b, k[3] = +a > 0, k[4] = c, fb.apply({}, k) } function hb(a, b, c) { var d, e = c - b, f = c - a.day(); return f > e && (f -= 7), e - 7 > f && (f += 7), d = tb(a).add(f, "d"), { week: Math.ceil(d.dayOfYear() / 7), year: d.year() } } function ib(a, b, c, d, e) { var f, g, h = db(a, 0, 1).getUTCDay(); return h = 0 === h ? 7 : h, c = null != c ? c : e, f = e - h + (h > d ? 7 : 0) - (e > h ? 7 : 0), g = 7 * (b - 1) + (c - e) + f + 1, { year: g > 0 ? a : a - 1, dayOfYear: g > 0 ? g : D(a - 1) + g } } function jb(b) { var c = b._i, d = b._f; return b._locale = b._locale || tb.localeData(b._l), null === c || d === a && "" === c ? tb.invalid({ nullInput: !0 }) : ("string" == typeof c && (b._i = c = b._locale.preparse(c)), tb.isMoment(c) ? new k(c, !0) : (d ? u(d) ? Z(b) : W(b) : bb(b), new k(b))) } function kb(a, b) { var c, d; if (1 === b.length && u(b[0]) && (b = b[0]), !b.length) return tb(); for (c = b[0], d = 1; d < b.length; ++d) b[d][a](c) && (c = b[d]); return c } function lb(a, b) { var c; return "string" == typeof b && (b = a.localeData().monthsParse(b), "number" != typeof b) ? a : (c = Math.min(a.date(), B(a.year(), b)), a._d["set" + (a._isUTC ? "UTC" : "") + "Month"](b, c), a) } function mb(a, b) { return a._d["get" + (a._isUTC ? "UTC" : "") + b]() } function nb(a, b, c) { return "Month" === b ? lb(a, c) : a._d["set" + (a._isUTC ? "UTC" : "") + b](c) } function ob(a, b) { return function (c) { return null != c ? (nb(this, a, c), tb.updateOffset(this, b), this) : mb(this, a) } } function pb(a) { return 400 * a / 146097 } function qb(a) { return 146097 * a / 400 } function rb(a) { tb.duration.fn[a] = function () { return this._data[a] } } function sb(a) { "undefined" == typeof ender && (ub = xb.moment, xb.moment = a ? f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.", tb) : tb) } for (var tb, ub, vb, wb = "2.8.3", xb = "undefined" != typeof global ? global : this, yb = Math.round, zb = Object.prototype.hasOwnProperty, Ab = 0, Bb = 1, Cb = 2, Db = 3, Eb = 4, Fb = 5, Gb = 6, Hb = {}, Ib = [], Jb = "undefined" != typeof module && module.exports, Kb = /^\/?Date\((\-?\d+)/i, Lb = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, Mb = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, Nb = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g, Ob = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g, Pb = /\d\d?/, Qb = /\d{1,3}/, Rb = /\d{1,4}/, Sb = /[+\-]?\d{1,6}/, Tb = /\d+/, Ub = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Vb = /Z|[\+\-]\d\d:?\d\d/gi, Wb = /T/i, Xb = /[\+\-]?\d+(\.\d{1,3})?/, Yb = /\d{1,2}/, Zb = /\d/, $b = /\d\d/, _b = /\d{3}/, ac = /\d{4}/, bc = /[+-]?\d{6}/, cc = /[+-]?\d+/, dc = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, ec = "YYYY-MM-DDTHH:mm:ssZ", fc = [["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/], ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/], ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/], ["GGGG-[W]WW", /\d{4}-W\d{2}/], ["YYYY-DDD", /\d{4}-\d{3}/]], gc = [["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/], ["HH:mm", /(T| )\d\d:\d\d/], ["HH", /(T| )\d\d/]], hc = /([\+\-]|\d\d)/gi, ic = ("Date|Hours|Minutes|Seconds|Milliseconds".split("|"), { Milliseconds: 1, Seconds: 1e3, Minutes: 6e4, Hours: 36e5, Days: 864e5, Months: 2592e6, Years: 31536e6 }), jc = { ms: "millisecond", s: "second", m: "minute", h: "hour", d: "day", D: "date", w: "week", W: "isoWeek", M: "month", Q: "quarter", y: "year", DDD: "dayOfYear", e: "weekday", E: "isoWeekday", gg: "weekYear", GG: "isoWeekYear" }, kc = { dayofyear: "dayOfYear", isoweekday: "isoWeekday", isoweek: "isoWeek", weekyear: "weekYear", isoweekyear: "isoWeekYear" }, lc = {}, mc = { s: 45, m: 45, h: 22, d: 26, M: 11 }, nc = "DDD w W M D d".split(" "), oc = "M D H h m s w W".split(" "), pc = { M: function () { return this.month() + 1 }, MMM: function (a) { return this.localeData().monthsShort(this, a) }, MMMM: function (a) { return this.localeData().months(this, a) }, D: function () { return this.date() }, DDD: function () { return this.dayOfYear() }, d: function () { return this.day() }, dd: function (a) { return this.localeData().weekdaysMin(this, a) }, ddd: function (a) { return this.localeData().weekdaysShort(this, a) }, dddd: function (a) { return this.localeData().weekdays(this, a) }, w: function () { return this.week() }, W: function () { return this.isoWeek() }, YY: function () { return p(this.year() % 100, 2) }, YYYY: function () { return p(this.year(), 4) }, YYYYY: function () { return p(this.year(), 5) }, YYYYYY: function () { var a = this.year(), b = a >= 0 ? "+" : "-"; return b + p(Math.abs(a), 6) }, gg: function () { return p(this.weekYear() % 100, 2) }, gggg: function () { return p(this.weekYear(), 4) }, ggggg: function () { return p(this.weekYear(), 5) }, GG: function () { return p(this.isoWeekYear() % 100, 2) }, GGGG: function () { return p(this.isoWeekYear(), 4) }, GGGGG: function () { return p(this.isoWeekYear(), 5) }, e: function () { return this.weekday() }, E: function () { return this.isoWeekday() }, a: function () { return this.localeData().meridiem(this.hours(), this.minutes(), !0) }, A: function () { return this.localeData().meridiem(this.hours(), this.minutes(), !1) }, H: function () { return this.hours() }, h: function () { return this.hours() % 12 || 12 }, m: function () { return this.minutes() }, s: function () { return this.seconds() }, S: function () { return A(this.milliseconds() / 100) }, SS: function () { return p(A(this.milliseconds() / 10), 2) }, SSS: function () { return p(this.milliseconds(), 3) }, SSSS: function () { return p(this.milliseconds(), 3) }, Z: function () { var a = -this.zone(), b = "+"; return 0 > a && (a = -a, b = "-"), b + p(A(a / 60), 2) + ":" + p(A(a) % 60, 2) }, ZZ: function () { var a = -this.zone(), b = "+"; return 0 > a && (a = -a, b = "-"), b + p(A(a / 60), 2) + p(A(a) % 60, 2) }, z: function () { return this.zoneAbbr() }, zz: function () { return this.zoneName() }, X: function () { return this.unix() }, Q: function () { return this.quarter() } }, qc = {}, rc = ["months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin"]; nc.length;) vb = nc.pop(), pc[vb + "o"] = i(pc[vb], vb); for (; oc.length;) vb = oc.pop(), pc[vb + vb] = h(pc[vb], 2); pc.DDDD = h(pc.DDD, 3), m(j.prototype, { set: function (a) { var b, c; for (c in a) b = a[c], "function" == typeof b ? this[c] = b : this["_" + c] = b }, _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), months: function (a) { return this._months[a.month()] }, _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), monthsShort: function (a) { return this._monthsShort[a.month()] }, monthsParse: function (a) { var b, c, d; for (this._monthsParse || (this._monthsParse = []), b = 0; 12 > b; b++) if (this._monthsParse[b] || (c = tb.utc([2e3, b]), d = "^" + this.months(c, "") + "|^" + this.monthsShort(c, ""), this._monthsParse[b] = new RegExp(d.replace(".", ""), "i")), this._monthsParse[b].test(a)) return b }, _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), weekdays: function (a) { return this._weekdays[a.day()] }, _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), weekdaysShort: function (a) { return this._weekdaysShort[a.day()] }, _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), weekdaysMin: function (a) { return this._weekdaysMin[a.day()] }, weekdaysParse: function (a) { var b, c, d; for (this._weekdaysParse || (this._weekdaysParse = []), b = 0; 7 > b; b++) if (this._weekdaysParse[b] || (c = tb([2e3, 1]).day(b), d = "^" + this.weekdays(c, "") + "|^" + this.weekdaysShort(c, "") + "|^" + this.weekdaysMin(c, ""), this._weekdaysParse[b] = new RegExp(d.replace(".", ""), "i")), this._weekdaysParse[b].test(a)) return b }, _longDateFormat: { LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY LT", LLLL: "dddd, MMMM D, YYYY LT" }, longDateFormat: function (a) { var b = this._longDateFormat[a]; return !b && this._longDateFormat[a.toUpperCase()] && (b = this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (a) { return a.slice(1) }), this._longDateFormat[a] = b), b }, isPM: function (a) { return "p" === (a + "").toLowerCase().charAt(0) }, _meridiemParse: /[ap]\.?m?\.?/i, meridiem: function (a, b, c) { return a > 11 ? c ? "pm" : "PM" : c ? "am" : "AM" }, _calendar: { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, calendar: function (a, b) { var c = this._calendar[a]; return "function" == typeof c ? c.apply(b) : c }, _relativeTime: { future: "in %s", past: "%s ago", s: "a few seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, relativeTime: function (a, b, c, d) { var e = this._relativeTime[c]; return "function" == typeof e ? e(a, b, c, d) : e.replace(/%d/i, a) }, pastFuture: function (a, b) { var c = this._relativeTime[a > 0 ? "future" : "past"]; return "function" == typeof c ? c(b) : c.replace(/%s/i, b) }, ordinal: function (a) { return this._ordinal.replace("%d", a) }, _ordinal: "%d", preparse: function (a) { return a }, postformat: function (a) { return a }, week: function (a) { return hb(a, this._week.dow, this._week.doy).week }, _week: { dow: 0, doy: 6 }, _invalidDate: "Invalid date", invalidDate: function () { return this._invalidDate } }), tb = function (b, c, e, f) { var g; return "boolean" == typeof e && (f = e, e = a), g = {}, g._isAMomentObject = !0, g._i = b, g._f = c, g._l = e, g._strict = f, g._isUTC = !1, g._pf = d(), jb(g) }, tb.suppressDeprecationWarnings = !1, tb.createFromInputFallback = f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function (a) { a._d = new Date(a._i) }), tb.min = function () { var a = [].slice.call(arguments, 0); return kb("isBefore", a) }, tb.max = function () { var a = [].slice.call(arguments, 0); return kb("isAfter", a) }, tb.utc = function (b, c, e, f) { var g; return "boolean" == typeof e && (f = e, e = a), g = {}, g._isAMomentObject = !0, g._useUTC = !0, g._isUTC = !0, g._l = e, g._i = b, g._f = c, g._strict = f, g._pf = d(), jb(g).utc() }, tb.unix = function (a) { return tb(1e3 * a) }, tb.duration = function (a, b) { var d, e, f, g, h = a, i = null; return tb.isDuration(a) ? h = { ms: a._milliseconds, d: a._days, M: a._months } : "number" == typeof a ? (h = {}, b ? h[b] = a : h.milliseconds = a) : (i = Lb.exec(a)) ? (d = "-" === i[1] ? -1 : 1, h = { y: 0, d: A(i[Cb]) * d, h: A(i[Db]) * d, m: A(i[Eb]) * d, s: A(i[Fb]) * d, ms: A(i[Gb]) * d }) : (i = Mb.exec(a)) ? (d = "-" === i[1] ? -1 : 1, f = function (a) { var b = a && parseFloat(a.replace(",", ".")); return (isNaN(b) ? 0 : b) * d }, h = { y: f(i[2]), M: f(i[3]), d: f(i[4]), h: f(i[5]), m: f(i[6]), s: f(i[7]), w: f(i[8]) }) : "object" == typeof h && ("from" in h || "to" in h) && (g = r(tb(h.from), tb(h.to)), h = {}, h.ms = g.milliseconds, h.M = g.months), e = new l(h), tb.isDuration(a) && c(a, "_locale") && (e._locale = a._locale), e }, tb.version = wb, tb.defaultFormat = ec, tb.ISO_8601 = function () { }, tb.momentProperties = Ib, tb.updateOffset = function () { }, tb.relativeTimeThreshold = function (b, c) { return mc[b] === a ? !1 : c === a ? mc[b] : (mc[b] = c, !0) }, tb.lang = f("moment.lang is deprecated. Use moment.locale instead.", function (a, b) { return tb.locale(a, b) }), tb.locale = function (a, b) { var c; return a && (c = "undefined" != typeof b ? tb.defineLocale(a, b) : tb.localeData(a), c && (tb.duration._locale = tb._locale = c)), tb._locale._abbr }, tb.defineLocale = function (a, b) { return null !== b ? (b.abbr = a, Hb[a] || (Hb[a] = new j), Hb[a].set(b), tb.locale(a), Hb[a]) : (delete Hb[a], null) }, tb.langData = f("moment.langData is deprecated. Use moment.localeData instead.", function (a) { return tb.localeData(a) }), tb.localeData = function (a) { var b; if (a && a._locale && a._locale._abbr && (a = a._locale._abbr), !a) return tb._locale; if (!u(a)) { if (b = J(a)) return b; a = [a] } return I(a) }, tb.isMoment = function (a) { return a instanceof k || null != a && c(a, "_isAMomentObject") }, tb.isDuration = function (a) { return a instanceof l }; for (vb = rc.length - 1; vb >= 0; --vb) z(rc[vb]); tb.normalizeUnits = function (a) { return x(a) }, tb.invalid = function (a) { var b = tb.utc(0 / 0); return null != a ? m(b._pf, a) : b._pf.userInvalidated = !0, b }, tb.parseZone = function () { return tb.apply(null, arguments).parseZone() }, tb.parseTwoDigitYear = function (a) { return A(a) + (A(a) > 68 ? 1900 : 2e3) }, m(tb.fn = k.prototype, { clone: function () { return tb(this) }, valueOf: function () { return +this._d + 6e4 * (this._offset || 0) }, unix: function () { return Math.floor(+this / 1e3) }, toString: function () { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") }, toDate: function () { return this._offset ? new Date(+this) : this._d }, toISOString: function () { var a = tb(this).utc(); return 0 < a.year() && a.year() <= 9999 ? N(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : N(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]") }, toArray: function () { var a = this; return [a.year(), a.month(), a.date(), a.hours(), a.minutes(), a.seconds(), a.milliseconds()] }, isValid: function () { return G(this) }, isDSTShifted: function () { return this._a ? this.isValid() && w(this._a, (this._isUTC ? tb.utc(this._a) : tb(this._a)).toArray()) > 0 : !1 }, parsingFlags: function () { return m({}, this._pf) }, invalidAt: function () { return this._pf.overflow }, utc: function (a) { return this.zone(0, a) }, local: function (a) { return this._isUTC && (this.zone(0, a), this._isUTC = !1, a && this.add(this._dateTzOffset(), "m")), this }, format: function (a) { var b = N(this, a || tb.defaultFormat); return this.localeData().postformat(b) }, add: s(1, "add"), subtract: s(-1, "subtract"), diff: function (a, b, c) { var d, e, f, g = K(a, this), h = 6e4 * (this.zone() - g.zone()); return b = x(b), "year" === b || "month" === b ? (d = 432e5 * (this.daysInMonth() + g.daysInMonth()), e = 12 * (this.year() - g.year()) + (this.month() - g.month()), f = this - tb(this).startOf("month") - (g - tb(g).startOf("month")), f -= 6e4 * (this.zone() - tb(this).startOf("month").zone() - (g.zone() - tb(g).startOf("month").zone())), e += f / d, "year" === b && (e /= 12)) : (d = this - g, e = "second" === b ? d / 1e3 : "minute" === b ? d / 6e4 : "hour" === b ? d / 36e5 : "day" === b ? (d - h) / 864e5 : "week" === b ? (d - h) / 6048e5 : d), c ? e : o(e) }, from: function (a, b) { return tb.duration({ to: this, from: a }).locale(this.locale()).humanize(!b) }, fromNow: function (a) { return this.from(tb(), a) }, calendar: function (a) { var b = a || tb(), c = K(b, this).startOf("day"), d = this.diff(c, "days", !0), e = -6 > d ? "sameElse" : -1 > d ? "lastWeek" : 0 > d ? "lastDay" : 1 > d ? "sameDay" : 2 > d ? "nextDay" : 7 > d ? "nextWeek" : "sameElse"; return this.format(this.localeData().calendar(e, this)) }, isLeapYear: function () { return E(this.year()) }, isDST: function () { return this.zone() < this.clone().month(0).zone() || this.zone() < this.clone().month(5).zone() }, day: function (a) { var b = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); return null != a ? (a = eb(a, this.localeData()), this.add(a - b, "d")) : b }, month: ob("Month", !0), startOf: function (a) { switch (a = x(a)) { case "year": this.month(0); case "quarter": case "month": this.date(1); case "week": case "isoWeek": case "day": this.hours(0); case "hour": this.minutes(0); case "minute": this.seconds(0); case "second": this.milliseconds(0) } return "week" === a ? this.weekday(0) : "isoWeek" === a && this.isoWeekday(1), "quarter" === a && this.month(3 * Math.floor(this.month() / 3)), this }, endOf: function (a) { return a = x(a), this.startOf(a).add(1, "isoWeek" === a ? "week" : a).subtract(1, "ms") }, isAfter: function (a, b) { return b = x("undefined" != typeof b ? b : "millisecond"), "millisecond" === b ? (a = tb.isMoment(a) ? a : tb(a), +this > +a) : +this.clone().startOf(b) > +tb(a).startOf(b) }, isBefore: function (a, b) { return b = x("undefined" != typeof b ? b : "millisecond"), "millisecond" === b ? (a = tb.isMoment(a) ? a : tb(a), +a > +this) : +this.clone().startOf(b) < +tb(a).startOf(b) }, isSame: function (a, b) { return b = x(b || "millisecond"), "millisecond" === b ? (a = tb.isMoment(a) ? a : tb(a), +this === +a) : +this.clone().startOf(b) === +K(a, this).startOf(b) }, min: f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function (a) { return a = tb.apply(null, arguments), this > a ? this : a }), max: f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function (a) { return a = tb.apply(null, arguments), a > this ? this : a }), zone: function (a, b) { var c, d = this._offset || 0; return null == a ? this._isUTC ? d : this._dateTzOffset() : ("string" == typeof a && (a = Q(a)), Math.abs(a) < 16 && (a = 60 * a), !this._isUTC && b && (c = this._dateTzOffset()), this._offset = a, this._isUTC = !0, null != c && this.subtract(c, "m"), d !== a && (!b || this._changeInProgress ? t(this, tb.duration(d - a, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, tb.updateOffset(this, !0), this._changeInProgress = null)), this) }, zoneAbbr: function () { return this._isUTC ? "UTC" : "" }, zoneName: function () { return this._isUTC ? "Coordinated Universal Time" : "" }, parseZone: function () { return this._tzm ? this.zone(this._tzm) : "string" == typeof this._i && this.zone(this._i), this }, hasAlignedHourOffset: function (a) { return a = a ? tb(a).zone() : 0, (this.zone() - a) % 60 === 0 }, daysInMonth: function () { return B(this.year(), this.month()) }, dayOfYear: function (a) { var b = yb((tb(this).startOf("day") - tb(this).startOf("year")) / 864e5) + 1; return null == a ? b : this.add(a - b, "d") }, quarter: function (a) { return null == a ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (a - 1) + this.month() % 3) }, weekYear: function (a) { var b = hb(this, this.localeData()._week.dow, this.localeData()._week.doy).year; return null == a ? b : this.add(a - b, "y") }, isoWeekYear: function (a) { var b = hb(this, 1, 4).year; return null == a ? b : this.add(a - b, "y") }, week: function (a) { var b = this.localeData().week(this); return null == a ? b : this.add(7 * (a - b), "d") }, isoWeek: function (a) { var b = hb(this, 1, 4).week; return null == a ? b : this.add(7 * (a - b), "d") }, weekday: function (a) { var b = (this.day() + 7 - this.localeData()._week.dow) % 7; return null == a ? b : this.add(a - b, "d") }, isoWeekday: function (a) { return null == a ? this.day() || 7 : this.day(this.day() % 7 ? a : a - 7) }, isoWeeksInYear: function () { return C(this.year(), 1, 4) }, weeksInYear: function () { var a = this.localeData()._week; return C(this.year(), a.dow, a.doy) }, get: function (a) { return a = x(a), this[a]() }, set: function (a, b) { return a = x(a), "function" == typeof this[a] && this[a](b), this }, locale: function (b) { var c; return b === a ? this._locale._abbr : (c = tb.localeData(b), null != c && (this._locale = c), this) }, lang: f("moment().lang() is deprecated. Use moment().localeData() instead.", function (b) { return b === a ? this.localeData() : this.locale(b) }), localeData: function () { return this._locale }, _dateTzOffset: function () { return 15 * Math.round(this._d.getTimezoneOffset() / 15) } }), tb.fn.millisecond = tb.fn.milliseconds = ob("Milliseconds", !1), tb.fn.second = tb.fn.seconds = ob("Seconds", !1), tb.fn.minute = tb.fn.minutes = ob("Minutes", !1), tb.fn.hour = tb.fn.hours = ob("Hours", !0), tb.fn.date = ob("Date", !0), tb.fn.dates = f("dates accessor is deprecated. Use date instead.", ob("Date", !0)), tb.fn.year = ob("FullYear", !0), tb.fn.years = f("years accessor is deprecated. Use year instead.", ob("FullYear", !0)), tb.fn.days = tb.fn.day, tb.fn.months = tb.fn.month, tb.fn.weeks = tb.fn.week, tb.fn.isoWeeks = tb.fn.isoWeek, tb.fn.quarters = tb.fn.quarter, tb.fn.toJSON = tb.fn.toISOString, m(tb.duration.fn = l.prototype, { _bubble: function () { var a, b, c, d = this._milliseconds, e = this._days, f = this._months, g = this._data, h = 0; g.milliseconds = d % 1e3, a = o(d / 1e3), g.seconds = a % 60, b = o(a / 60), g.minutes = b % 60, c = o(b / 60), g.hours = c % 24, e += o(c / 24), h = o(pb(e)), e -= o(qb(h)), f += o(e / 30), e %= 30, h += o(f / 12), f %= 12, g.days = e, g.months = f, g.years = h }, abs: function () { return this._milliseconds = Math.abs(this._milliseconds), this._days = Math.abs(this._days), this._months = Math.abs(this._months), this._data.milliseconds = Math.abs(this._data.milliseconds), this._data.seconds = Math.abs(this._data.seconds), this._data.minutes = Math.abs(this._data.minutes), this._data.hours = Math.abs(this._data.hours), this._data.months = Math.abs(this._data.months), this._data.years = Math.abs(this._data.years), this }, weeks: function () { return o(this.days() / 7) }, valueOf: function () { return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * A(this._months / 12) }, humanize: function (a) { var b = gb(this, !a, this.localeData()); return a && (b = this.localeData().pastFuture(+this, b)), this.localeData().postformat(b) }, add: function (a, b) { var c = tb.duration(a, b); return this._milliseconds += c._milliseconds, this._days += c._days, this._months += c._months, this._bubble(), this }, subtract: function (a, b) { var c = tb.duration(a, b); return this._milliseconds -= c._milliseconds, this._days -= c._days, this._months -= c._months, this._bubble(), this }, get: function (a) { return a = x(a), this[a.toLowerCase() + "s"]() }, as: function (a) { var b, c; if (a = x(a), "month" === a || "year" === a) return b = this._days + this._milliseconds / 864e5, c = this._months + 12 * pb(b), "month" === a ? c : c / 12; switch (b = this._days + qb(this._months / 12), a) { case "week": return b / 7 + this._milliseconds / 6048e5; case "day": return b + this._milliseconds / 864e5; case "hour": return 24 * b + this._milliseconds / 36e5; case "minute": return 24 * b * 60 + this._milliseconds / 6e4; case "second": return 24 * b * 60 * 60 + this._milliseconds / 1e3; case "millisecond": return Math.floor(24 * b * 60 * 60 * 1e3) + this._milliseconds; default: throw new Error("Unknown unit " + a) } }, lang: tb.fn.lang, locale: tb.fn.locale, toIsoString: f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", function () { return this.toISOString() }), toISOString: function () { var a = Math.abs(this.years()), b = Math.abs(this.months()), c = Math.abs(this.days()), d = Math.abs(this.hours()), e = Math.abs(this.minutes()), f = Math.abs(this.seconds() + this.milliseconds() / 1e3); return this.asSeconds() ? (this.asSeconds() < 0 ? "-" : "") + "P" + (a ? a + "Y" : "") + (b ? b + "M" : "") + (c ? c + "D" : "") + (d || e || f ? "T" : "") + (d ? d + "H" : "") + (e ? e + "M" : "") + (f ? f + "S" : "") : "P0D" }, localeData: function () { return this._locale } }), tb.duration.fn.toString = tb.duration.fn.toISOString; for (vb in ic) c(ic, vb) && rb(vb.toLowerCase()); tb.duration.fn.asMilliseconds = function () { return this.as("ms") }, tb.duration.fn.asSeconds = function () { return this.as("s") }, tb.duration.fn.asMinutes = function () { return this.as("m") }, tb.duration.fn.asHours = function () { return this.as("h") }, tb.duration.fn.asDays = function () { return this.as("d") }, tb.duration.fn.asWeeks = function () { return this.as("weeks") }, tb.duration.fn.asMonths = function () { return this.as("M") }, tb.duration.fn.asYears = function () { return this.as("y") }, tb.locale("en", {
                ordinal: function (a) {
                    var b = a % 10, c = 1 === A(a % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th";
                    return a + c
                }
            }), Jb ? module.exports = tb : "function" == typeof define && define.amd ? (define("moment", function (a, b, c) { return c.config && c.config() && c.config().noGlobal === !0 && (xb.moment = ub), tb }), sb(!0)) : sb()
        }).call(this);
        (function (moment) {
            !function (moment) { var regex = /P((([0-9]*\.?[0-9])Y)?(([0-9]*\.?[0-9])M)?(([0-9]*\.?[0-9])W)?(([0-9]*\.?[0-9])D)?)?(T(([0-9]*\.?[0-9])H)?(([0-9]*\.?[0-9])M)?(([0-9]*\.?[0-9])S)?)?/; moment.duration.fromIsoduration = function (duration) { var matches = duration.match(regex); return moment.duration({ years: parseFloat(matches[3]), months: parseFloat(matches[5]), weeks: parseFloat(matches[7]), days: parseFloat(matches[9]), hours: parseFloat(matches[12]), minutes: parseFloat(matches[14]), seconds: parseFloat(matches[16]) }) }; moment.duration.fn.isoduration = function () { var duration = "P" + (this.years() ? this.years() + "Y" : "") + (this.months() ? this.months() + "M" : "") + (this.days() ? this.days() + "D" : "") + (this.hours() || this.minutes() || this.seconds() ? "T" : "") + (this.hours() ? this.hours() + "H" : "") + (this.minutes() ? this.minutes() + "M" : "") + (this.seconds() ? this.seconds() + "S" : ""); return duration } }(moment);
        }).call(this, this.moment); !function (e, t) { var r, n, s, a, i, o, u, l, c, d, f, g, p, h, m, b, y, v, _, M, k, S, A, C; r = function (e) { return new r.prototype.init(e) }, "undefined" != typeof require && "undefined" != typeof exports && "undefined" != typeof module ? module.exports = r : e.Globalize = r, r.cultures = {}, r.prototype = { constructor: r, init: function (e) { return this.cultures = r.cultures, this.cultureSelector = e, this } }, r.prototype.init.prototype = r.prototype, r.cultures["default"] = { name: "en", englishName: "English", nativeName: "English", isRTL: !1, language: "en", numberFormat: { pattern: ["-n"], decimals: 2, ",": ",", ".": ".", groupSizes: [3], "+": "+", "-": "-", NaN: "NaN", negativeInfinity: "-Infinity", positiveInfinity: "Infinity", percent: { pattern: ["-n %", "n %"], decimals: 2, groupSizes: [3], ",": ",", ".": ".", symbol: "%" }, currency: { pattern: ["($n)", "$n"], decimals: 2, groupSizes: [3], ",": ",", ".": ".", symbol: "$" } }, calendars: { standard: { name: "Gregorian_USEnglish", "/": "/", ":": ":", firstDay: 0, days: { names: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], namesAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], namesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"] }, months: { names: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""], namesAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""] }, AM: ["AM", "am", "AM"], PM: ["PM", "pm", "PM"], eras: [{ name: "A.D.", start: null, offset: 0 }], twoDigitYearMax: 2029, patterns: { d: "M/d/yyyy", D: "dddd, MMMM dd, yyyy", t: "h:mm tt", T: "h:mm:ss tt", f: "dddd, MMMM dd, yyyy h:mm tt", F: "dddd, MMMM dd, yyyy h:mm:ss tt", M: "MMMM dd", Y: "yyyy MMMM", S: "yyyy'-'MM'-'dd'T'HH':'mm':'ss" } } }, messages: {} }, r.cultures["default"].calendar = r.cultures["default"].calendars.standard, r.cultures.en = r.cultures["default"], r.cultureSelector = "en", n = /^0x[a-f0-9]+$/i, s = /^[+\-]?infinity$/i, a = /^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/, i = /^\s+|\s+$/g, o = function (e, t) { if (e.indexOf) return e.indexOf(t); for (var r = 0, n = e.length; n > r; r++) if (e[r] === t) return r; return -1 }, u = function (e, t) { return e.substr(e.length - t.length) === t }, l = function () { var e, r, n, s, a, i, o = arguments[0] || {}, u = 1, g = arguments.length, p = !1; for ("boolean" == typeof o && (p = o, o = arguments[1] || {}, u = 2), "object" == typeof o || d(o) || (o = {}) ; g > u; u++) if (null != (e = arguments[u])) for (r in e) n = o[r], s = e[r], o !== s && (p && s && (f(s) || (a = c(s))) ? (a ? (a = !1, i = n && c(n) ? n : []) : i = n && f(n) ? n : {}, o[r] = l(p, i, s)) : s !== t && (o[r] = s)); return o }, c = Array.isArray || function (e) { return "[object Array]" === Object.prototype.toString.call(e) }, d = function (e) { return "[object Function]" === Object.prototype.toString.call(e) }, f = function (e) { return "[object Object]" === Object.prototype.toString.call(e) }, g = function (e, t) { return 0 === e.indexOf(t) }, p = function (e) { return (e + "").replace(i, "") }, h = function (e) { return isNaN(e) ? 0 / 0 : Math[0 > e ? "ceil" : "floor"](e) }, m = function (e, t, r) { var n; for (n = e.length; t > n; n += 1) e = r ? "0" + e : e + "0"; return e }, b = function (e, t) { for (var r = 0, n = !1, s = 0, a = e.length; a > s; s++) { var i = e.charAt(s); switch (i) { case "'": n ? t.push("'") : r++, n = !1; break; case "\\": n && t.push("\\"), n = !n; break; default: t.push(i), n = !1 } } return r }, y = function (e, t) { t = t || "F"; var r, n = e.patterns, s = t.length; if (1 === s) { if (r = n[t], !r) throw "Invalid date format string '" + t + "'."; t = r } else 2 === s && "%" === t.charAt(0) && (t = t.charAt(1)); return t }, v = function (e, t, r) { function n(e, t) { var r, n = e + ""; return t > 1 && n.length < t ? (r = _[t - 2] + n, r.substr(r.length - t, t)) : r = n } function s() { return p || h ? p : (p = A.test(t), h = !0, p) } function a(e, t) { if (m) return m[t]; switch (t) { case 0: return e.getFullYear(); case 1: return e.getMonth(); case 2: return e.getDate(); default: throw "Invalid part value " + t } } var i, o = r.calendar, u = o.convert; if (!t || !t.length || "i" === t) { if (r && r.name.length) if (u) i = v(e, o.patterns.F, r); else { var l = new Date(e.getTime()), c = k(e, o.eras); l.setFullYear(S(e, o, c)), i = l.toLocaleString() } else i = e.toString(); return i } var d = o.eras, f = "s" === t; t = y(o, t), i = []; var g, p, h, m, _ = ["0", "00", "000"], A = /([^d]|^)(d|dd)([^d]|$)/g, C = 0, w = M(); for (!f && u && (m = u.fromGregorian(e)) ; ;) { var x = w.lastIndex, T = w.exec(t), I = t.slice(x, T ? T.index : t.length); if (C += b(I, i), !T) break; if (C % 2) i.push(T[0]); else { var E = T[0], F = E.length; switch (E) { case "ddd": case "dddd": var O = 3 === F ? o.days.namesAbbr : o.days.names; i.push(O[e.getDay()]); break; case "d": case "dd": p = !0, i.push(n(a(e, 2), F)); break; case "MMM": case "MMMM": var z = a(e, 1); i.push(o.monthsGenitive && s() ? o.monthsGenitive[3 === F ? "namesAbbr" : "names"][z] : o.months[3 === F ? "namesAbbr" : "names"][z]); break; case "M": case "MM": i.push(n(a(e, 1) + 1, F)); break; case "y": case "yy": case "yyyy": z = m ? m[0] : S(e, o, k(e, d), f), 4 > F && (z %= 100), i.push(n(z, F)); break; case "h": case "hh": g = e.getHours() % 12, 0 === g && (g = 12), i.push(n(g, F)); break; case "H": case "HH": i.push(n(e.getHours(), F)); break; case "m": case "mm": i.push(n(e.getMinutes(), F)); break; case "s": case "ss": i.push(n(e.getSeconds(), F)); break; case "t": case "tt": z = e.getHours() < 12 ? o.AM ? o.AM[0] : " " : o.PM ? o.PM[0] : " ", i.push(1 === F ? z.charAt(0) : z); break; case "f": case "ff": case "fff": i.push(n(e.getMilliseconds(), 3).substr(0, F)); break; case "z": case "zz": g = e.getTimezoneOffset() / 60, i.push((0 >= g ? "+" : "-") + n(Math.floor(Math.abs(g)), F)); break; case "zzz": g = e.getTimezoneOffset() / 60, i.push((0 >= g ? "+" : "-") + n(Math.floor(Math.abs(g)), 2) + ":" + n(Math.abs(e.getTimezoneOffset() % 60), 2)); break; case "g": case "gg": o.eras && i.push(o.eras[k(e, d)].name); break; case "/": i.push(o["/"]); break; default: throw "Invalid date format pattern '" + E + "'." } } } return i.join("") }, function () { var e; e = function (e, t, r) { var n = r.groupSizes, s = n[0], a = 1, i = Math.pow(10, t), o = Math.round(e * i) / i; isFinite(o) || (o = e), e = o; var u = e + "", l = "", c = u.split(/e/i), d = c.length > 1 ? parseInt(c[1], 10) : 0; u = c[0], c = u.split("."), u = c[0], l = c.length > 1 ? c[1] : "", d > 0 ? (l = m(l, d, !1), u += l.slice(0, d), l = l.substr(d)) : 0 > d && (d = -d, u = m(u, d + 1, !0), l = u.slice(-d, u.length) + l, u = u.slice(0, -d)), l = t > 0 ? r["."] + (l.length > t ? l.slice(0, t) : m(l, t)) : ""; for (var f = u.length - 1, g = r[","], p = ""; f >= 0;) { if (0 === s || s > f) return u.slice(0, f + 1) + (p.length ? g + p + l : l); p = u.slice(f - s + 1, f + 1) + (p.length ? g + p : ""), f -= s, a < n.length && (s = n[a], a++) } return u.slice(0, f + 1) + g + p + l }, _ = function (t, r, n) { if (!isFinite(t)) return 1 / 0 === t ? n.numberFormat.positiveInfinity : t === -1 / 0 ? n.numberFormat.negativeInfinity : n.numberFormat.NaN; if (!r || "i" === r) return n.name.length ? t.toLocaleString() : t.toString(); r = r || "D"; var s, a = n.numberFormat, i = Math.abs(t), o = -1; r.length > 1 && (o = parseInt(r.slice(1), 10)); var u, l = r.charAt(0).toUpperCase(); switch (l) { case "D": s = "n", i = h(i), -1 !== o && (i = m("" + i, o, !0)), 0 > t && (i = "-" + i); break; case "N": u = a; case "C": u = u || a.currency; case "P": u = u || a.percent, s = 0 > t ? u.pattern[0] : u.pattern[1] || "n", -1 === o && (o = u.decimals), i = e(i * ("P" === l ? 100 : 1), o, u); break; default: throw "Bad number format specifier: " + l } for (var c = /n|\$|-|%/g, d = ""; ;) { var f = c.lastIndex, g = c.exec(s); if (d += s.slice(f, g ? g.index : s.length), !g) break; switch (g[0]) { case "n": d += i; break; case "$": d += a.currency.symbol; break; case "-": /[1-9]/.test(i) && (d += a["-"]); break; case "%": d += a.percent.symbol } } return d } }(), M = function () { return /\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g }, k = function (e, t) { if (!t) return 0; for (var r, n = e.getTime(), s = 0, a = t.length; a > s; s++) if (r = t[s].start, null === r || n >= r) return s; return 0 }, S = function (e, t, r, n) { var s = e.getFullYear(); return !n && t.eras && (s -= t.eras[r].offset), s }, function () { var e, t, r, n, s, a, i; e = function (e, t) { if (100 > t) { var r = new Date, n = k(r), s = S(r, e, n), a = e.twoDigitYearMax; a = "string" == typeof a ? (new Date).getFullYear() % 100 + parseInt(a, 10) : a, t += s - s % 100, t > a && (t -= 100) } return t }, t = function (e, t, r) { var n, s = e.days, u = e._upperDays; return u || (e._upperDays = u = [i(s.names), i(s.namesAbbr), i(s.namesShort)]), t = a(t), r ? (n = o(u[1], t), -1 === n && (n = o(u[2], t))) : n = o(u[0], t), n }, r = function (e, t, r) { var n = e.months, s = e.monthsGenitive || e.months, u = e._upperMonths, l = e._upperMonthsGen; u || (e._upperMonths = u = [i(n.names), i(n.namesAbbr)], e._upperMonthsGen = l = [i(s.names), i(s.namesAbbr)]), t = a(t); var c = o(r ? u[1] : u[0], t); return 0 > c && (c = o(r ? l[1] : l[0], t)), c }, n = function (e, t) { var r = e._parseRegExp; if (r) { var n = r[t]; if (n) return n } else e._parseRegExp = r = {}; for (var s, a = y(e, t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g, "\\\\$1"), i = ["^"], o = [], u = 0, l = 0, c = M() ; null !== (s = c.exec(a)) ;) { var d = a.slice(u, s.index); if (u = c.lastIndex, l += b(d, i), l % 2) i.push(s[0]); else { var f, g = s[0], p = g.length; switch (g) { case "dddd": case "ddd": case "MMMM": case "MMM": case "gg": case "g": f = "(\\D+)"; break; case "tt": case "t": f = "(\\D*)"; break; case "yyyy": case "fff": case "ff": case "f": f = "(\\d{" + p + "})"; break; case "dd": case "d": case "MM": case "M": case "yy": case "y": case "HH": case "H": case "hh": case "h": case "mm": case "m": case "ss": case "s": f = "(\\d\\d?)"; break; case "zzz": f = "([+-]?\\d\\d?:\\d{2})"; break; case "zz": case "z": f = "([+-]?\\d\\d?)"; break; case "/": f = "(\\/)"; break; default: throw "Invalid date format pattern '" + g + "'." } f && i.push(f), o.push(s[0]) } } b(a.slice(u), i), i.push("$"); var h = i.join("").replace(/\s+/g, "\\s+"), m = { regExp: h, groups: o }; return r[t] = m }, s = function (e, t, r) { return t > e || e > r }, a = function (e) { return e.split(" ").join(" ").toUpperCase() }, i = function (e) { for (var t = [], r = 0, n = e.length; n > r; r++) t[r] = a(e[r]); return t }, A = function (a, i, o) { a = p(a); var u = o.calendar, l = n(u, i), c = new RegExp(l.regExp).exec(a); if (null === c) return null; for (var d, f = l.groups, h = null, m = null, b = null, y = null, v = null, _ = 0, M = 0, k = 0, S = 0, A = null, C = !1, w = 0, x = f.length; x > w; w++) { var T = c[w + 1]; if (T) { var I = f[w], E = I.length, F = parseInt(T, 10); switch (I) { case "dd": case "d": if (y = F, s(y, 1, 31)) return null; break; case "MMM": case "MMMM": if (b = r(u, T, 3 === E), s(b, 0, 11)) return null; break; case "M": case "MM": if (b = F - 1, s(b, 0, 11)) return null; break; case "y": case "yy": case "yyyy": if (m = 4 > E ? e(u, F) : F, s(m, 0, 9999)) return null; break; case "h": case "hh": if (_ = F, 12 === _ && (_ = 0), s(_, 0, 11)) return null; break; case "H": case "HH": if (_ = F, s(_, 0, 23)) return null; break; case "m": case "mm": if (M = F, s(M, 0, 59)) return null; break; case "s": case "ss": if (k = F, s(k, 0, 59)) return null; break; case "tt": case "t": if (C = u.PM && (T === u.PM[0] || T === u.PM[1] || T === u.PM[2]), !C && (!u.AM || T !== u.AM[0] && T !== u.AM[1] && T !== u.AM[2])) return null; break; case "f": case "ff": case "fff": if (S = F * Math.pow(10, 3 - E), s(S, 0, 999)) return null; break; case "ddd": case "dddd": if (v = t(u, T, 3 === E), s(v, 0, 6)) return null; break; case "zzz": var O = T.split(/:/); if (2 !== O.length) return null; if (d = parseInt(O[0], 10), s(d, -12, 13)) return null; var z = parseInt(O[1], 10); if (s(z, 0, 59)) return null; A = 60 * d + (g(T, "-") ? -z : z); break; case "z": case "zz": if (d = F, s(d, -12, 13)) return null; A = 60 * d; break; case "g": case "gg": var D = T; if (!D || !u.eras) return null; D = p(D.toLowerCase()); for (var N = 0, P = u.eras.length; P > N; N++) if (D === u.eras[N].name.toLowerCase()) { h = N; break } if (null === h) return null } } } var j, U = new Date, $ = u.convert; if (j = $ ? $.fromGregorian(U)[0] : U.getFullYear(), null === m ? m = j : u.eras && (m += u.eras[h || 0].offset), null === b && (b = 0), null === y && (y = 1), $) { if (U = $.toGregorian(m, b, y), null === U) return null } else { if (U.setFullYear(m, b, y), U.getDate() !== y) return null; if (null !== v && U.getDay() !== v) return null } if (C && 12 > _ && (_ += 12), U.setHours(_, M, k, S), null !== A) { var R = U.getMinutes() - (A + U.getTimezoneOffset()); U.setHours(U.getHours() + parseInt(R / 60, 10), R % 60) } return U } }(), C = function (e, t, r) { var n, s = t["-"], a = t["+"]; switch (r) { case "n -": s = " " + s, a = " " + a; case "n-": u(e, s) ? n = ["-", e.substr(0, e.length - s.length)] : u(e, a) && (n = ["+", e.substr(0, e.length - a.length)]); break; case "- n": s += " ", a += " "; case "-n": g(e, s) ? n = ["-", e.substr(s.length)] : g(e, a) && (n = ["+", e.substr(a.length)]); break; case "(n)": g(e, "(") && u(e, ")") && (n = ["-", e.substr(1, e.length - 2)]) } return n || ["", e] }, r.prototype.findClosestCulture = function (e) { return r.findClosestCulture.call(this, e) }, r.prototype.format = function (e, t, n) { return r.format.call(this, e, t, n) }, r.prototype.localize = function (e, t) { return r.localize.call(this, e, t) }, r.prototype.parseInt = function (e, t, n) { return r.parseInt.call(this, e, t, n) }, r.prototype.parseFloat = function (e, t, n) { return r.parseFloat.call(this, e, t, n) }, r.prototype.culture = function (e) { return r.culture.call(this, e) }, r.addCultureInfo = function (e, t, r) { var n = {}, s = !1; "string" != typeof e ? (r = e, e = this.culture().name, n = this.cultures[e]) : "string" != typeof t ? (r = t, s = null == this.cultures[e], n = this.cultures[e] || this.cultures["default"]) : (s = !0, n = this.cultures[t]), this.cultures[e] = l(!0, {}, n, r), s && (this.cultures[e].calendar = this.cultures[e].calendars.standard) }, r.findClosestCulture = function (e) { var t; if (!e) return this.findClosestCulture(this.cultureSelector) || this.cultures["default"]; if ("string" == typeof e && (e = e.split(",")), c(e)) { var r, n, s = this.cultures, a = e, i = a.length, o = []; for (n = 0; i > n; n++) { e = p(a[n]); var u, l = e.split(";"); r = p(l[0]), 1 === l.length ? u = 1 : (e = p(l[1]), 0 === e.indexOf("q=") ? (e = e.substr(2), u = parseFloat(e), u = isNaN(u) ? 0 : u) : u = 1), o.push({ lang: r, pri: u }) } for (o.sort(function (e, t) { return e.pri < t.pri ? 1 : e.pri > t.pri ? -1 : 0 }), n = 0; i > n; n++) if (r = o[n].lang, t = s[r]) return t; for (n = 0; i > n; n++) for (r = o[n].lang; ;) { var d = r.lastIndexOf("-"); if (-1 === d) break; if (r = r.substr(0, d), t = s[r]) return t } for (n = 0; i > n; n++) { r = o[n].lang; for (var f in s) { var g = s[f]; if (g.language === r) return g } } } else if ("object" == typeof e) return e; return t || null }, r.format = function (e, t, r) { var n = this.findClosestCulture(r); return e instanceof Date ? e = v(e, t, n) : "number" == typeof e && (e = _(e, t, n)), e }, r.localize = function (e, t) { return this.findClosestCulture(t).messages[e] || this.cultures["default"].messages[e] }, r.parseDate = function (e, t, r) { r = this.findClosestCulture(r); var n, s, a; if (t) { if ("string" == typeof t && (t = [t]), t.length) for (var i = 0, o = t.length; o > i; i++) { var u = t[i]; if (u && (n = A(e, u, r))) break } } else { a = r.calendar.patterns; for (s in a) if (n = A(e, a[s], r)) break } return n || null }, r.parseInt = function (e, t, n) { return h(r.parseFloat(e, t, n)) }, r.parseFloat = function (e, t, r) { "number" != typeof t && (r = t, t = 10); var i = this.findClosestCulture(r), o = 0 / 0, u = i.numberFormat; if (e.indexOf(i.numberFormat.currency.symbol) > -1 && (e = e.replace(i.numberFormat.currency.symbol, ""), e = e.replace(i.numberFormat.currency["."], i.numberFormat["."])), e.indexOf(i.numberFormat.percent.symbol) > -1 && (e = e.replace(i.numberFormat.percent.symbol, "")), e = e.replace(/ /g, ""), s.test(e)) o = parseFloat(e); else if (!t && n.test(e)) o = parseInt(e, 16); else { var l = C(e, u, u.pattern[0]), c = l[0], d = l[1]; "" === c && "(n)" !== u.pattern[0] && (l = C(e, u, "(n)"), c = l[0], d = l[1]), "" === c && "-n" !== u.pattern[0] && (l = C(e, u, "-n"), c = l[0], d = l[1]), c = c || "+"; var f, g, p = d.indexOf("e"); 0 > p && (p = d.indexOf("E")), 0 > p ? (g = d, f = null) : (g = d.substr(0, p), f = d.substr(p + 1)); var h, m, b = u["."], y = g.indexOf(b); 0 > y ? (h = g, m = null) : (h = g.substr(0, y), m = g.substr(y + b.length)); var v = u[","]; h = h.split(v).join(""); var _ = v.replace(/\u00A0/g, " "); v !== _ && (h = h.split(_).join("")); var M = c + h; if (null !== m && (M += "." + m), null !== f) { var k = C(f, u, "-n"); M += "e" + (k[0] || "+") + k[1] } a.test(M) && (o = parseFloat(M)) } return o }, r.culture = function (e) { return "undefined" != typeof e && (this.cultureSelector = e), this.findClosestCulture(e) || this.cultures["default"] } }(this);
        !function (e) { var t; t = "undefined" != typeof require && "undefined" != typeof exports && "undefined" != typeof module ? require("globalize") : e.Globalize, t.addCultureInfo("en-US", "default", { name: "en-US", englishName: "English (United States)" }) }(this);
        var openFB = function () { function e(e) { if (!e.appId) throw "appId parameter not set in init()"; l = e.appId, e.tokenStore && (g = e.tokenStore) } function t(e) { var t = g.fbtoken, n = {}; t ? (n.status = "connected", n.authResponse = { token: t }) : n.status = "unknown", e && e(n) } function n(e, t) { function n(e) { var t = e.url; if (t.indexOf("access_token=") > 0 || t.indexOf("error=") > 0) { a.removeEventListener("loadstart", n), a.removeEventListener("exit", s); var i = 600 - ((new Date).getTime() - o); setTimeout(function () { a.close(), a = null }, i > 0 ? i : 0), r(t) } } function s() { e({ status: "user_cancelled", error_description: "User cancelled login process", error_reason: "user_cancelled" }), a.removeEventListener("loadstart", n), a.removeEventListener("exit", s), a = null } var a, o, i = ""; return l ? (t && t.scope && (i = t.scope), c = e, d ? v = b = "https://www.facebook.com/connect/login_success.html" : t && t.callbackUrl && (v = b = t.callbackUrl), o = (new Date).getTime(), a = window.open(f + "?client_id=" + l + "&redirect_uri=" + encodeURIComponent(v) + "&response_type=token&scope=" + i, "_blank", "location=no"), d && (a.addEventListener("loadstart", n), a.addEventListener("exit", s)), void 0) : e({ status: "unknown", error: "Facebook App Id not set." }) } function r(e) { var t, n; e.indexOf("access_token=") > 0 ? (t = e.substr(e.indexOf("#") + 1), n = i(t), g.fbtoken = n.access_token, c && c({ status: "connected", authResponse: { token: n.access_token } })) : e.indexOf("error=") > 0 ? (t = e.substring(e.indexOf("?") + 1, e.indexOf("#")), n = i(t), c && c({ status: "not_authorized", error: n.error })) : c && c({ status: "not_authorized" }), c = null } function s(e) { var t, n = g.fbtoken; g.removeItem("fbtoken"), n && (t = window.open(p + "?access_token=" + n + "&next=" + encodeURIComponent(b), "_blank", "location=no"), d && setTimeout(function () { t.close() }, 700)), e && e() } function a(e) { var t, n = e.method || "GET", r = e.params || {}, s = new XMLHttpRequest; r.access_token = g.fbtoken, t = "https://graph.facebook.com" + e.path + "?" + u(r), s.onreadystatechange = function () { if (4 === s.readyState) if (200 === s.status) e.success && e.success(JSON.parse(s.responseText)); else { var t = s.responseText ? JSON.parse(s.responseText).error : { message: "An error has occurred" }; e.error && e.error(t) } }, s.open(n, t, !0), s.send() } function o(e, t) { return a({ method: "DELETE", path: "/me/permissions", success: function () { g.fbtoken = void 0, e() }, error: t }) } function i(e) { var t = decodeURIComponent(e), n = {}, r = t.split("&"); return r.forEach(function (e) { var t = e.split("="); n[t[0]] = t[1] }), n } function u(e) { var t = []; for (var n in e) e.hasOwnProperty(n) && t.push(encodeURIComponent(n) + "=" + encodeURIComponent(e[n])); return t.join("&") } var l, c, d, f = "https://www.facebook.com/dialog/oauth", p = "https://www.facebook.com/logout.php", g = window.sessionStorage, h = window.location.pathname.substring(0, window.location.pathname.indexOf("/", 2)), m = location.protocol + "//" + location.hostname + (location.port ? ":" + location.port : "") + h, v = m + "/oauthcallback.html", b = m + "/logoutcallback.html", d = !!window.cordova; return { init: e, login: n, logout: s, revokePermissions: o, api: a, oauthCallback: r, getLoginStatus: t } }();
        this.openFB = openFB;
        !function (e) {
            function t() { this._defaults = { pickerClass: "", showOnFocus: !0, showTrigger: null, showAnim: "show", showOptions: {}, showSpeed: "normal", popupContainer: null, alignment: "bottom", fixedWeeks: !1, firstDay: 0, calculateWeek: this.iso8601Week, monthsToShow: 1, monthsOffset: 0, monthsToStep: 1, monthsToJump: 12, useMouseWheel: !0, changeMonth: !0, yearRange: "c-10:c+10", shortYearCutoff: "+10", showOtherMonths: !1, selectOtherMonths: !1, defaultDate: null, selectDefaultDate: !1, minDate: null, maxDate: null, dateFormat: "mm/dd/yyyy", autoSize: !1, rangeSelect: !1, rangeSeparator: " - ", multiSelect: 0, multiSeparator: ",", onDate: null, onShow: null, onChangeMonthYear: null, onSelect: null, onClose: null, altField: null, altFormat: null, constrainInput: !0, commandsAsDateFormat: !1, commands: this.commands }, this.regional = [], this.regional[""] = { monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], dateFormat: "mm/dd/yyyy", firstDay: 0, renderer: this.defaultRenderer, prevText: "&lt;Prev", prevStatus: "Show the previous month", prevJumpText: "&lt;&lt;", prevJumpStatus: "Show the previous year", nextText: "Next&gt;", nextStatus: "Show the next month", nextJumpText: "&gt;&gt;", nextJumpStatus: "Show the next year", currentText: "Current", currentStatus: "Show the current month", todayText: "Today", todayStatus: "Show today's month", clearText: "Clear", clearStatus: "Clear all the dates", closeText: "Close", closeStatus: "Close the datepicker", yearStatus: "Change the year", monthStatus: "Change the month", weekText: "Wk", weekStatus: "Week of the year", dayStatus: "Select DD, M d, yyyy", defaultStatus: "Select a date", isRTL: !1 }, e.extend(this._defaults, this.regional[""]), this._disabled = [] } function a(t, a) { return "option" == t && (0 == a.length || 1 == a.length && "string" == typeof a[0]) ? !0 : e.inArray(t, n) > -1 } e.extend(t.prototype, {
                markerClassName: "hasDatepick", propertyName: "datepick", _popupClass: "datepick-popup", _triggerClass: "datepick-trigger", _disableClass: "datepick-disable", _monthYearClass: "datepick-month-year", _curMonthClass: "datepick-month-", _anyYearClass: "datepick-any-year", _curDoWClass: "datepick-dow-", commands: { prev: { text: "prevText", status: "prevStatus", keystroke: { keyCode: 33 }, enabled: function (e) { var t = e.curMinDate(); return !t || r.add(r.day(r._applyMonthsOffset(r.add(r.newDate(e.drawDate), 1 - e.options.monthsToStep, "m"), e), 1), -1, "d").getTime() >= t.getTime() }, date: function (e) { return r.day(r._applyMonthsOffset(r.add(r.newDate(e.drawDate), -e.options.monthsToStep, "m"), e), 1) }, action: function (e) { r._changeMonthPlugin(this, -e.options.monthsToStep) } }, prevJump: { text: "prevJumpText", status: "prevJumpStatus", keystroke: { keyCode: 33, ctrlKey: !0 }, enabled: function (e) { var t = e.curMinDate(); return !t || r.add(r.day(r._applyMonthsOffset(r.add(r.newDate(e.drawDate), 1 - e.options.monthsToJump, "m"), e), 1), -1, "d").getTime() >= t.getTime() }, date: function (e) { return r.day(r._applyMonthsOffset(r.add(r.newDate(e.drawDate), -e.options.monthsToJump, "m"), e), 1) }, action: function (e) { r._changeMonthPlugin(this, -e.options.monthsToJump) } }, next: { text: "nextText", status: "nextStatus", keystroke: { keyCode: 34 }, enabled: function (e) { var t = e.get("maxDate"); return !t || r.day(r._applyMonthsOffset(r.add(r.newDate(e.drawDate), e.options.monthsToStep, "m"), e), 1).getTime() <= t.getTime() }, date: function (e) { return r.day(r._applyMonthsOffset(r.add(r.newDate(e.drawDate), e.options.monthsToStep, "m"), e), 1) }, action: function (e) { r._changeMonthPlugin(this, e.options.monthsToStep) } }, nextJump: { text: "nextJumpText", status: "nextJumpStatus", keystroke: { keyCode: 34, ctrlKey: !0 }, enabled: function (e) { var t = e.get("maxDate"); return !t || r.day(r._applyMonthsOffset(r.add(r.newDate(e.drawDate), e.options.monthsToJump, "m"), e), 1).getTime() <= t.getTime() }, date: function (e) { return r.day(r._applyMonthsOffset(r.add(r.newDate(e.drawDate), e.options.monthsToJump, "m"), e), 1) }, action: function (e) { r._changeMonthPlugin(this, e.options.monthsToJump) } }, current: { text: "currentText", status: "currentStatus", keystroke: { keyCode: 36, ctrlKey: !0 }, enabled: function (e) { var t = e.curMinDate(), a = e.get("maxDate"), n = e.selectedDates[0] || r.today(); return (!t || n.getTime() >= t.getTime()) && (!a || n.getTime() <= a.getTime()) }, date: function (e) { return e.selectedDates[0] || r.today() }, action: function (e) { var t = e.selectedDates[0] || r.today(); r._showMonthPlugin(this, t.getFullYear(), t.getMonth() + 1) } }, today: { text: "todayText", status: "todayStatus", keystroke: { keyCode: 36, ctrlKey: !0 }, enabled: function (e) { var t = e.curMinDate(), a = e.get("maxDate"); return (!t || r.today().getTime() >= t.getTime()) && (!a || r.today().getTime() <= a.getTime()) }, date: function () { return r.today() }, action: function () { r._showMonthPlugin(this) } }, clear: { text: "clearText", status: "clearStatus", keystroke: { keyCode: 35, ctrlKey: !0 }, enabled: function () { return !0 }, date: function () { return null }, action: function () { r._clearPlugin(this) } }, close: { text: "closeText", status: "closeStatus", keystroke: { keyCode: 27 }, enabled: function () { return !0 }, date: function () { return null }, action: function () { r._hidePlugin(this) } }, prevWeek: { text: "prevWeekText", status: "prevWeekStatus", keystroke: { keyCode: 38, ctrlKey: !0 }, enabled: function (e) { var t = e.curMinDate(); return !t || r.add(r.newDate(e.drawDate), -7, "d").getTime() >= t.getTime() }, date: function (e) { return r.add(r.newDate(e.drawDate), -7, "d") }, action: function () { r._changeDayPlugin(this, -7) } }, prevDay: { text: "prevDayText", status: "prevDayStatus", keystroke: { keyCode: 37, ctrlKey: !0 }, enabled: function (e) { var t = e.curMinDate(); return !t || r.add(r.newDate(e.drawDate), -1, "d").getTime() >= t.getTime() }, date: function (e) { return r.add(r.newDate(e.drawDate), -1, "d") }, action: function () { r._changeDayPlugin(this, -1) } }, nextDay: { text: "nextDayText", status: "nextDayStatus", keystroke: { keyCode: 39, ctrlKey: !0 }, enabled: function (e) { var t = e.get("maxDate"); return !t || r.add(r.newDate(e.drawDate), 1, "d").getTime() <= t.getTime() }, date: function (e) { return r.add(r.newDate(e.drawDate), 1, "d") }, action: function () { r._changeDayPlugin(this, 1) } }, nextWeek: { text: "nextWeekText", status: "nextWeekStatus", keystroke: { keyCode: 40, ctrlKey: !0 }, enabled: function (e) { var t = e.get("maxDate"); return !t || r.add(r.newDate(e.drawDate), 7, "d").getTime() <= t.getTime() }, date: function (e) { return r.add(r.newDate(e.drawDate), 7, "d") }, action: function () { r._changeDayPlugin(this, 7) } } }, defaultRenderer: { picker: '<div class="datepick"><div class="datepick-nav">{link:prev}{link:today}{link:next}</div>{months}{popup:start}<div class="datepick-ctrl">{link:clear}{link:close}</div>{popup:end}<div class="datepick-clear-fix"></div></div>', monthRow: '<div class="datepick-month-row">{months}</div>', month: '<div class="datepick-month"><div class="datepick-month-header">{monthHeader}</div><table><thead>{weekHeader}</thead><tbody>{weeks}</tbody></table></div>', weekHeader: "<tr>{days}</tr>", dayHeader: "<th>{day}</th>", week: "<tr>{days}</tr>", day: "<td>{day}</td>", monthSelector: ".datepick-month", daySelector: "td", rtlClass: "datepick-rtl", multiClass: "datepick-multi", defaultClass: "", selectedClass: "datepick-selected", highlightedClass: "datepick-highlight", todayClass: "datepick-today", otherMonthClass: "datepick-other-month", weekendClass: "datepick-weekend", commandClass: "datepick-cmd", commandButtonClass: "", commandLinkClass: "", disabledClass: "datepick-disabled" }, setDefaults: function (t) { return e.extend(this._defaults, t || {}), this }, _ticksTo1970: 1e7 * 60 * 60 * 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)), _msPerDay: 864e5, ATOM: "yyyy-mm-dd", COOKIE: "D, dd M yyyy", FULL: "DD, MM d, yyyy", ISO_8601: "yyyy-mm-dd", JULIAN: "J", RFC_822: "D, d M yy", RFC_850: "DD, dd-M-yy", RFC_1036: "D, d M yy", RFC_1123: "D, d M yyyy", RFC_2822: "D, d M yyyy", RSS: "D, d M yy", TICKS: "!", TIMESTAMP: "@", W3C: "yyyy-mm-dd", formatDate: function (e, t, a) { if ("string" != typeof e && (a = t, t = e, e = ""), !t) return ""; e = e || this._defaults.dateFormat, a = a || {}; for (var n = a.dayNamesShort || this._defaults.dayNamesShort, r = a.dayNames || this._defaults.dayNames, s = a.monthNamesShort || this._defaults.monthNamesShort, i = a.monthNames || this._defaults.monthNames, o = a.calculateWeek || this._defaults.calculateWeek, l = function (t, a) { for (var n = 1; p + n < e.length && e.charAt(p + n) == t;) n++; return p += n - 1, Math.floor(n / (a || 1)) > 1 }, u = function (e, t, a, n) { var r = "" + t; if (l(e, n)) for (; r.length < a;) r = "0" + r; return r }, c = function (e, t, a, n) { return l(e) ? n[t] : a[t] }, d = "", h = !1, p = 0; p < e.length; p++) if (h) "'" != e.charAt(p) || l("'") ? d += e.charAt(p) : h = !1; else switch (e.charAt(p)) { case "d": d += u("d", t.getDate(), 2); break; case "D": d += c("D", t.getDay(), n, r); break; case "o": d += u("o", this.dayOfYear(t), 3); break; case "w": d += u("w", o(t), 2); break; case "m": d += u("m", t.getMonth() + 1, 2); break; case "M": d += c("M", t.getMonth(), s, i); break; case "y": d += l("y", 2) ? t.getFullYear() : (t.getFullYear() % 100 < 10 ? "0" : "") + t.getFullYear() % 100; break; case "@": d += Math.floor(t.getTime() / 1e3); break; case "!": d += 1e4 * t.getTime() + this._ticksTo1970; break; case "'": l("'") ? d += "'" : h = !0; break; default: d += e.charAt(p) } return d }, parseDate: function (e, t, a) { if (null == t) throw "Invalid arguments"; if (t = "object" == typeof t ? t.toString() : t + "", "" == t) return null; e = e || this._defaults.dateFormat, a = a || {}; var n = a.shortYearCutoff || this._defaults.shortYearCutoff; n = "string" != typeof n ? n : this.today().getFullYear() % 100 + parseInt(n, 10); for (var r = a.dayNamesShort || this._defaults.dayNamesShort, s = a.dayNames || this._defaults.dayNames, i = a.monthNamesShort || this._defaults.monthNamesShort, o = a.monthNames || this._defaults.monthNames, l = -1, u = -1, c = -1, d = -1, h = !1, p = !1, f = function (t, a) { for (var n = 1; D + n < e.length && e.charAt(D + n) == t;) n++; return D += n - 1, Math.floor(n / (a || 1)) > 1 }, g = function (e, a) { var n = f(e, a), r = [2, 3, n ? 4 : 2, 11, 20]["oy@!".indexOf(e) + 1], s = new RegExp("^-?\\d{1," + r + "}"), i = t.substring(v).match(s); if (!i) throw "Missing number at position {0}".replace(/\{0\}/, v); return v += i[0].length, parseInt(i[0], 10) }, m = function (e, a, n, r) { for (var s = f(e, r) ? n : a, i = 0; i < s.length; i++) if (t.substr(v, s[i].length).toLowerCase() == s[i].toLowerCase()) return v += s[i].length, i + 1; throw "Unknown name at position {0}".replace(/\{0\}/, v) }, y = function () { if (t.charAt(v) != e.charAt(D)) throw "Unexpected literal at position {0}".replace(/\{0\}/, v); v++ }, v = 0, D = 0; D < e.length; D++) if (p) "'" != e.charAt(D) || f("'") ? y() : p = !1; else switch (e.charAt(D)) { case "d": c = g("d"); break; case "D": m("D", r, s); break; case "o": d = g("o"); break; case "w": g("w"); break; case "m": u = g("m"); break; case "M": u = m("M", i, o); break; case "y": var _ = D; h = !f("y", 2), D = _, l = g("y", 2); break; case "@": var b = this._normaliseDate(new Date(1e3 * g("@"))); l = b.getFullYear(), u = b.getMonth() + 1, c = b.getDate(); break; case "!": var b = this._normaliseDate(new Date((g("!") - this._ticksTo1970) / 1e4)); l = b.getFullYear(), u = b.getMonth() + 1, c = b.getDate(); break; case "*": v = t.length; break; case "'": f("'") ? y() : p = !0; break; default: y() } if (v < t.length) throw "Additional text found at end"; if (-1 == l ? l = this.today().getFullYear() : 100 > l && h && (l += -1 == n ? 1900 : this.today().getFullYear() - this.today().getFullYear() % 100 - (n >= l ? 0 : 100)), d > -1) { u = 1, c = d; for (var k = this.daysInMonth(l, u) ; c > k; k = this.daysInMonth(l, u)) u++, c -= k } var b = this.newDate(l, u, c); if (b.getFullYear() != l || b.getMonth() + 1 != u || b.getDate() != c) throw "Invalid date"; return b }, determineDate: function (e, t, a, n, s) { a && "object" != typeof a && (s = n, n = a, a = null), "string" != typeof n && (s = n, n = ""); var i = function (e) { try { return r.parseDate(n, e, s) } catch (t) { } e = e.toLowerCase(); for (var i = (e.match(/^c/) && a ? r.newDate(a) : null) || r.today(), o = /([+-]?[0-9]+)\s*(d|w|m|y)?/g, l = null; l = o.exec(e) ;) i = r.add(i, parseInt(l[1], 10), l[2] || "d"); return i }; return t = t ? r.newDate(t) : null, e = null == e ? t : "string" == typeof e ? i(e) : "number" == typeof e ? isNaN(e) || 1 / 0 == e || e == -1 / 0 ? t : r.add(r.today(), e, "d") : r.newDate(e) }, daysInMonth: function (e, t) { return t = e.getFullYear ? e.getMonth() + 1 : t, e = e.getFullYear ? e.getFullYear() : e, this.newDate(e, t + 1, 0).getDate() }, dayOfYear: function (e, t, a) { var n = e.getFullYear ? e : this.newDate(e, t, a), r = this.newDate(n.getFullYear(), 1, 1); return Math.floor((n.getTime() - r.getTime()) / this._msPerDay) + 1 }, iso8601Week: function (e, t, a) { var n = e.getFullYear ? new Date(e.getTime()) : this.newDate(e, t, a); n.setDate(n.getDate() + 4 - (n.getDay() || 7)); var r = n.getTime(); return n.setMonth(0, 1), Math.floor(Math.round((r - n) / 864e5) / 7) + 1 }, today: function () { return this._normaliseDate(new Date) }, newDate: function (e, t, a) { return e ? e.getFullYear ? this._normaliseDate(new Date(e.getTime())) : new Date(e, t - 1, a, 12) : null }, _normaliseDate: function (e) { return e && e.setHours(12, 0, 0, 0), e }, year: function (e, t) { return e.setFullYear(t), this._normaliseDate(e) }, month: function (e, t) { return e.setMonth(t - 1), this._normaliseDate(e) }, day: function (e, t) { return e.setDate(t), this._normaliseDate(e) }, add: function (e, t, a) { if ("d" == a || "w" == a) this._normaliseDate(e), e.setDate(e.getDate() + t * ("w" == a ? 7 : 1)); else { var n = e.getFullYear() + ("y" == a ? t : 0), s = e.getMonth() + ("m" == a ? t : 0); e.setTime(r.newDate(n, s + 1, Math.min(e.getDate(), this.daysInMonth(n, s + 1))).getTime()) } return e }, _applyMonthsOffset: function (t, a) { var n = a.options.monthsOffset; return e.isFunction(n) && (n = n.apply(a.target[0], [t])), r.add(t, -n, "m") }, _attachPlugin: function (t, a) { if (t = e(t), !t.hasClass(this.markerClassName)) { var n = e.fn.metadata ? t.metadata() : {}, s = { options: e.extend({}, this._defaults, n, a), target: t, selectedDates: [], drawDate: null, pickingRange: !1, inline: e.inArray(t[0].nodeName.toLowerCase(), ["div", "span"]) > -1, get: function (t) { return e.inArray(t, ["defaultDate", "minDate", "maxDate"]) > -1 ? r.determineDate(this.options[t], null, this.selectedDates[0], this.options.dateFormat, s.getConfig()) : this.options[t] }, curMinDate: function () { return this.pickingRange ? this.selectedDates[0] : this.get("minDate") }, getConfig: function () { return { dayNamesShort: this.options.dayNamesShort, dayNames: this.options.dayNames, monthNamesShort: this.options.monthNamesShort, monthNames: this.options.monthNames, calculateWeek: this.options.calculateWeek, shortYearCutoff: this.options.shortYearCutoff } } }; t.addClass(this.markerClassName).data(this.propertyName, s), s.inline ? (s.drawDate = r._checkMinMax(r.newDate(s.selectedDates[0] || s.get("defaultDate") || r.today()), s), s.prevDate = r.newDate(s.drawDate), this._update(t[0]), e.fn.mousewheel && t.mousewheel(this._doMouseWheel)) : (this._attachments(t, s), t.bind("keydown." + this.propertyName, this._keyDown).bind("keypress." + this.propertyName, this._keyPress).bind("keyup." + this.propertyName, this._keyUp), t.attr("disabled") && this._disablePlugin(t[0])) } }, _optionPlugin: function (t, a, n) { t = e(t); var s = t.data(this.propertyName); if (!a || "string" == typeof a && null == n) { var i = a; return a = (s || {}).options, a && i ? a[i] : a } if (t.hasClass(this.markerClassName)) { if (a = a || {}, "string" == typeof a) { var i = a; a = {}, a[i] = n } if (a.calendar && a.calendar != s.options.calendar) { var o = function (e) { return "object" == typeof s.options[e] ? null : s.options[e] }; a = e.extend({ defaultDate: o("defaultDate"), minDate: o("minDate"), maxDate: o("maxDate") }, a), s.selectedDates = [], s.drawDate = null } var l = s.selectedDates; e.extend(s.options, a), this._setDatePlugin(t[0], l, null, !1, !0), s.pickingRange = !1, s.drawDate = r.newDate(this._checkMinMax((s.options.defaultDate ? s.get("defaultDate") : s.drawDate) || s.get("defaultDate") || r.today(), s)), s.inline || this._attachments(t, s), (s.inline || s.div) && this._update(t[0]) } }, _attachments: function (t, a) { t.unbind("focus." + this.propertyName), a.options.showOnFocus && t.bind("focus." + this.propertyName, this._showPlugin), a.trigger && a.trigger.remove(); var n = a.options.showTrigger; a.trigger = n ? e(n).clone().removeAttr("id").addClass(this._triggerClass)[a.options.isRTL ? "insertBefore" : "insertAfter"](t).click(function () { r._isDisabledPlugin(t[0]) || r[r.curInst == a ? "_hidePlugin" : "_showPlugin"](t[0]) }) : e([]), this._autoSize(t, a); var s = this._extractDates(a, t.val()); s && this._setDatePlugin(t[0], s, null, !0); var i = a.get("defaultDate"); a.options.selectDefaultDate && i && 0 == a.selectedDates.length && this._setDatePlugin(t[0], r.newDate(i || r.today())) }, _autoSize: function (e, t) { if (t.options.autoSize && !t.inline) { var a = r.newDate(2009, 10, 20), n = t.options.dateFormat; if (n.match(/[DM]/)) { var s = function (e) { for (var t = 0, a = 0, n = 0; n < e.length; n++) e[n].length > t && (t = e[n].length, a = n); return a }; a.setMonth(s(t.options[n.match(/MM/) ? "monthNames" : "monthNamesShort"])), a.setDate(s(t.options[n.match(/DD/) ? "dayNames" : "dayNamesShort"]) + 20 - a.getDay()) } t.target.attr("size", r.formatDate(n, a, t.getConfig()).length) } }, _destroyPlugin: function (t) { if (t = e(t), t.hasClass(this.markerClassName)) { var a = t.data(this.propertyName); a.trigger && a.trigger.remove(), t.removeClass(this.markerClassName).removeData(this.propertyName).empty().unbind("." + this.propertyName), a.inline && e.fn.mousewheel && t.unmousewheel(), !a.inline && a.options.autoSize && t.removeAttr("size") } }, multipleEvents: function () { var e = arguments; return function () { for (var t = 0; t < e.length; t++) e[t].apply(this, arguments) } }, _enablePlugin: function (t) { if (t = e(t), t.hasClass(this.markerClassName)) { var a = t.data(this.propertyName); a.inline ? t.children("." + this._disableClass).remove().end().find("button,select").removeAttr("disabled").end().find("a").attr("href", "javascript:void(0)") : (t.prop("disabled", !1), a.trigger.filter("button." + this._triggerClass).removeAttr("disabled").end().filter("img." + this._triggerClass).css({ opacity: "1.0", cursor: "" })), this._disabled = e.map(this._disabled, function (e) { return e == t[0] ? null : e }) } }, _disablePlugin: function (t) { if (t = e(t), t.hasClass(this.markerClassName)) { var a = t.data(this.propertyName); if (a.inline) { var n = t.children(":last"), r = n.offset(), s = { left: 0, top: 0 }; n.parents().each(function () { return "relative" == e(this).css("position") ? (s = e(this).offset(), !1) : void 0 }); var i = t.css("zIndex"); i = ("auto" == i ? 0 : parseInt(i, 10)) + 1, t.prepend('<div class="' + this._disableClass + '" style="' + "width: " + n.outerWidth() + "px; height: " + n.outerHeight() + "px; left: " + (r.left - s.left) + "px; top: " + (r.top - s.top) + "px; z-index: " + i + '"></div>').find("button,select").attr("disabled", "disabled").end().find("a").removeAttr("href") } else t.prop("disabled", !0), a.trigger.filter("button." + this._triggerClass).attr("disabled", "disabled").end().filter("img." + this._triggerClass).css({ opacity: "0.5", cursor: "default" }); this._disabled = e.map(this._disabled, function (e) { return e == t[0] ? null : e }), this._disabled.push(t[0]) } }, _isDisabledPlugin: function (t) { return t && e.inArray(t, this._disabled) > -1 }, _showPlugin: function (t) { t = e(t.target || t); var a = t.data(r.propertyName); if (r.curInst != a && (r.curInst && r._hidePlugin(r.curInst, !0), a)) { a.lastVal = null, a.selectedDates = r._extractDates(a, t.val()), a.pickingRange = !1, a.drawDate = r._checkMinMax(r.newDate(a.selectedDates[0] || a.get("defaultDate") || r.today()), a), a.prevDate = r.newDate(a.drawDate), r.curInst = a, r._update(t[0], !0); var n = r._checkOffset(a); a.div.css({ left: n.left, top: n.top }); var s = a.options.showAnim, i = a.options.showSpeed; if (i = "normal" == i && e.ui && e.ui.version >= "1.8" ? "_default" : i, e.effects && e.effects[s]) { var o = a.div.data(); for (var l in o) l.match(/^ec\.storage\./) && (o[l] = a._mainDiv.css(l.replace(/ec\.storage\./, ""))); a.div.data(o).show(s, a.options.showOptions, i) } else a.div[s || "show"](s ? i : "") } }, _extractDates: function (e, t) { if (t != e.lastVal) { e.lastVal = t, t = t.split(e.options.multiSelect ? e.options.multiSeparator : e.options.rangeSelect ? e.options.rangeSeparator : "\0"); for (var a = [], n = 0; n < t.length; n++) try { var s = r.parseDate(e.options.dateFormat, t[n], e.getConfig()); if (s) { for (var i = !1, o = 0; o < a.length; o++) if (a[o].getTime() == s.getTime()) { i = !0; break } i || a.push(s) } } catch (l) { } return a.splice(e.options.multiSelect || (e.options.rangeSelect ? 2 : 1), a.length), e.options.rangeSelect && 1 == a.length && (a[1] = a[0]), a } }, _update: function (t, a) { t = e(t.target || t); var n = t.data(r.propertyName); n && ((n.inline || r.curInst == n) && (!e.isFunction(n.options.onChangeMonthYear) || n.prevDate && n.prevDate.getFullYear() == n.drawDate.getFullYear() && n.prevDate.getMonth() == n.drawDate.getMonth() || n.options.onChangeMonthYear.apply(t[0], [n.drawDate.getFullYear(), n.drawDate.getMonth() + 1])), n.inline ? t.html(this._generateContent(t[0], n)) : r.curInst == n && (n.div || (n.div = e("<div></div>").addClass(this._popupClass).css({ display: a ? "none" : "static", position: "absolute", left: t.offset().left, top: t.offset().top + t.outerHeight() }).appendTo(e(n.options.popupContainer || "body")), e.fn.mousewheel && n.div.mousewheel(this._doMouseWheel)), n.div.html(this._generateContent(t[0], n)), t.focus())) }, _updateInput: function (t, a) { var n = e.data(t, this.propertyName); if (n) { for (var s = "", i = "", o = n.options.multiSelect ? n.options.multiSeparator : n.options.rangeSeparator, l = n.options.altFormat || n.options.dateFormat, u = 0; u < n.selectedDates.length; u++) s += a ? "" : (u > 0 ? o : "") + r.formatDate(n.options.dateFormat, n.selectedDates[u], n.getConfig()), i += (u > 0 ? o : "") + r.formatDate(l, n.selectedDates[u], n.getConfig()); n.inline || a || e(t).val(s), e(n.options.altField).val(i), !e.isFunction(n.options.onSelect) || a || n.inSelect || (n.inSelect = !0, n.options.onSelect.apply(t, [n.selectedDates]), n.inSelect = !1) } }, _getBorders: function (e) { var t = function (e) { return { thin: 1, medium: 3, thick: 5 }[e] || e }; return [parseFloat(t(e.css("border-left-width"))), parseFloat(t(e.css("border-top-width")))] }, _checkOffset: function (t) { var a = t.target.is(":hidden") && t.trigger ? t.trigger : t.target, n = a.offset(), r = e(window).width(), s = e(window).height(); if (0 == r) return n; var i = !1; e(t.target).parents().each(function () { return i |= "fixed" == e(this).css("position"), !i }); var o = document.documentElement.scrollLeft || document.body.scrollLeft, l = document.documentElement.scrollTop || document.body.scrollTop, u = n.top - (i ? l : 0) - t.div.outerHeight(), c = n.top - (i ? l : 0) + a.outerHeight(), d = n.left - (i ? o : 0), h = n.left - (i ? o : 0) + a.outerWidth() - t.div.outerWidth(), p = n.left - o + t.div.outerWidth() > r, f = n.top - l + t.target.outerHeight() + t.div.outerHeight() > s; t.div.css("position", i ? "fixed" : "absolute"); var g = t.options.alignment; return n = "topLeft" == g ? { left: d, top: u } : "topRight" == g ? { left: h, top: u } : "bottomLeft" == g ? { left: d, top: c } : "bottomRight" == g ? { left: h, top: c } : "top" == g ? { left: t.options.isRTL || p ? h : d, top: u } : { left: t.options.isRTL || p ? h : d, top: f ? u : c }, n.left = Math.max(i ? 0 : o, n.left), n.top = Math.max(i ? 0 : l, n.top), n }, _checkExternalClick: function (t) { if (r.curInst) { var a = e(t.target); a.parents().andSelf().hasClass(r._popupClass) || a.hasClass(r.markerClassName) || a.parents().andSelf().hasClass(r._triggerClass) || r._hidePlugin(r.curInst) } }, _hidePlugin: function (t, a) { if (t) { var n = e.data(t, this.propertyName) || t; if (n && n == r.curInst) { var s = a ? "" : n.options.showAnim, i = n.options.showSpeed; i = "normal" == i && e.ui && e.ui.version >= "1.8" ? "_default" : i; var o = function () { n.div && (n.div.remove(), n.div = null, r.curInst = null, e.isFunction(n.options.onClose) && n.options.onClose.apply(t, [n.selectedDates])) }; if (n.div.stop(), e.effects && e.effects[s]) n.div.hide(s, n.options.showOptions, i, o); else { var l = "slideDown" == s ? "slideUp" : "fadeIn" == s ? "fadeOut" : "hide"; n.div[l](s ? i : "", o) } s || o() } } }, _keyDown: function (t) { var a = t.target, n = e.data(a, r.propertyName), s = !1; if (n.div) if (9 == t.keyCode) r._hidePlugin(a); else if (13 == t.keyCode) r._selectDatePlugin(a, e("a." + n.options.renderer.highlightedClass, n.div)[0]), s = !0; else { var i = n.options.commands; for (var o in i) { var l = i[o]; if (l.keystroke.keyCode == t.keyCode && !!l.keystroke.ctrlKey == !(!t.ctrlKey && !t.metaKey) && !!l.keystroke.altKey == t.altKey && !!l.keystroke.shiftKey == t.shiftKey) { r._performActionPlugin(a, o), s = !0; break } } } else { var l = n.options.commands.current; l.keystroke.keyCode == t.keyCode && !!l.keystroke.ctrlKey == !(!t.ctrlKey && !t.metaKey) && !!l.keystroke.altKey == t.altKey && !!l.keystroke.shiftKey == t.shiftKey && (r._showPlugin(a), s = !0) } return n.ctrlKey = t.keyCode < 48 && 32 != t.keyCode || t.ctrlKey || t.metaKey, s && (t.preventDefault(), t.stopPropagation()), !s }, _keyPress: function (t) { var a = e.data(t.target, r.propertyName); if (a && a.options.constrainInput) { var n = String.fromCharCode(t.keyCode || t.charCode), s = r._allowedChars(a); return t.metaKey || a.ctrlKey || " " > n || !s || s.indexOf(n) > -1 } return !0 }, _allowedChars: function (e) { for (var t = e.options.multiSelect ? e.options.multiSeparator : e.options.rangeSelect ? e.options.rangeSeparator : "", a = !1, n = !1, r = e.options.dateFormat, s = 0; s < r.length; s++) { var i = r.charAt(s); if (a) "'" == i && "'" != r.charAt(s + 1) ? a = !1 : t += i; else switch (i) { case "d": case "m": case "o": case "w": t += n ? "" : "0123456789", n = !0; break; case "y": case "@": case "!": t += (n ? "" : "0123456789") + "-", n = !0; break; case "J": t += (n ? "" : "0123456789") + "-.", n = !0; break; case "D": case "M": case "Y": return null; case "'": "'" == r.charAt(s + 1) ? t += "'" : a = !0; break; default: t += i } } return t }, _keyUp: function (t) { var a = t.target, n = e.data(a, r.propertyName); if (n && !n.ctrlKey && n.lastVal != n.target.val()) try { var s = r._extractDates(n, n.target.val()); s.length > 0 && r._setDatePlugin(a, s, null, !0) } catch (t) { } return !0 }, _doMouseWheel: function (t, a) { var n = r.curInst && r.curInst.target[0] || e(t.target).closest("." + r.markerClassName)[0]; if (!r._isDisabledPlugin(n)) { var s = e.data(n, r.propertyName); s.options.useMouseWheel && (a = 0 > a ? -1 : 1, r._changeMonthPlugin(n, -s.options[t.ctrlKey ? "monthsToJump" : "monthsToStep"] * a)), t.preventDefault() } }, _clearPlugin: function (t) { var a = e.data(t, this.propertyName); if (a) { a.selectedDates = [], this._hidePlugin(t); var n = a.get("defaultDate"); a.options.selectDefaultDate && n ? this._setDatePlugin(t, r.newDate(n || r.today())) : this._updateInput(t) } }, _getDatePlugin: function (t) { var a = e.data(t, this.propertyName); return a ? a.selectedDates : [] }, _setDatePlugin: function (t, a, n, s, i) { var o = e.data(t, this.propertyName); if (o) { e.isArray(a) || (a = [a], n && a.push(n)); var l = o.get("minDate"), u = o.get("maxDate"), c = o.selectedDates[0]; o.selectedDates = []; for (var d = 0; d < a.length; d++) { var h = r.determineDate(a[d], null, c, o.options.dateFormat, o.getConfig()); if (h && (!l || h.getTime() >= l.getTime()) && (!u || h.getTime() <= u.getTime())) { for (var p = !1, f = 0; f < o.selectedDates.length; f++) if (o.selectedDates[f].getTime() == h.getTime()) { p = !0; break } p || o.selectedDates.push(h) } } if (o.selectedDates.splice(o.options.multiSelect || (o.options.rangeSelect ? 2 : 1), o.selectedDates.length), o.options.rangeSelect) { switch (o.selectedDates.length) { case 1: o.selectedDates[1] = o.selectedDates[0]; break; case 2: o.selectedDates[1] = o.selectedDates[0].getTime() > o.selectedDates[1].getTime() ? o.selectedDates[0] : o.selectedDates[1] } o.pickingRange = !1 } o.prevDate = o.drawDate ? r.newDate(o.drawDate) : null, o.drawDate = this._checkMinMax(r.newDate(o.selectedDates[0] || o.get("defaultDate") || r.today()), o), i || (this._update(t), this._updateInput(t, s)) } }, _isSelectablePlugin: function (t, a) { var n = e.data(t, this.propertyName); return n ? (a = r.determineDate(a, n.selectedDates[0] || this.today(), null, n.options.dateFormat, n.getConfig()), this._isSelectable(t, a, n.options.onDate, n.get("minDate"), n.get("maxDate"))) : !1 }, _isSelectable: function (t, a, n, r, s) { var i = "boolean" == typeof n ? { selectable: n } : e.isFunction(n) ? n.apply(t, [a, !0]) : {}; return 0 != i.selectable && (!r || a.getTime() >= r.getTime()) && (!s || a.getTime() <= s.getTime()) }, _performActionPlugin: function (t, a) { var n = e.data(t, this.propertyName); if (n && !this._isDisabledPlugin(t)) { var r = n.options.commands; r[a] && r[a].enabled.apply(t, [n]) && r[a].action.apply(t, [n]) } }, _showMonthPlugin: function (t, a, n, s) { var i = e.data(t, this.propertyName); if (i && (null != s || i.drawDate.getFullYear() != a || i.drawDate.getMonth() + 1 != n)) { i.prevDate = r.newDate(i.drawDate); var o = this._checkMinMax(null != a ? r.newDate(a, n, 1) : r.today(), i); i.drawDate = r.newDate(o.getFullYear(), o.getMonth() + 1, null != s ? s : Math.min(i.drawDate.getDate(), r.daysInMonth(o.getFullYear(), o.getMonth() + 1))), this._update(t) } }, _changeMonthPlugin: function (t, a) { var n = e.data(t, this.propertyName); if (n) { var s = r.add(r.newDate(n.drawDate), a, "m"); this._showMonthPlugin(t, s.getFullYear(), s.getMonth() + 1) } }, _changeDayPlugin: function (t, a) { var n = e.data(t, this.propertyName); if (n) { var s = r.add(r.newDate(n.drawDate), a, "d"); this._showMonthPlugin(t, s.getFullYear(), s.getMonth() + 1, s.getDate()) } }, _checkMinMax: function (e, t) { var a = t.get("minDate"), n = t.get("maxDate"); return e = a && e.getTime() < a.getTime() ? r.newDate(a) : e, e = n && e.getTime() > n.getTime() ? r.newDate(n) : e }, _retrieveDatePlugin: function (t, a) { var n = e.data(t, this.propertyName); return n ? this._normaliseDate(new Date(parseInt(a.className.replace(/^.*dp(-?\d+).*$/, "$1"), 10))) : null }, _selectDatePlugin: function (t, a) { var n = e.data(t, this.propertyName); if (n && !this._isDisabledPlugin(t)) { var s = this._retrieveDatePlugin(t, a); if (n.options.multiSelect) { for (var i = !1, o = 0; o < n.selectedDates.length; o++) if (s.getTime() == n.selectedDates[o].getTime()) { n.selectedDates.splice(o, 1), i = !0; break } !i && n.selectedDates.length < n.options.multiSelect && n.selectedDates.push(s) } else n.options.rangeSelect ? (n.pickingRange ? n.selectedDates[1] = s : n.selectedDates = [s, s], n.pickingRange = !n.pickingRange) : n.selectedDates = [s]; n.prevDate = r.newDate(s), this._updateInput(t), n.inline || n.pickingRange || n.selectedDates.length < (n.options.multiSelect || (n.options.rangeSelect ? 2 : 1)) ? this._update(t) : this._hidePlugin(t) } }, _generateContent: function (t, a) { var n = a.options.monthsToShow; n = e.isArray(n) ? n : [1, n], a.drawDate = this._checkMinMax(a.drawDate || a.get("defaultDate") || r.today(), a); for (var s = r._applyMonthsOffset(r.newDate(a.drawDate), a), i = "", o = 0; o < n[0]; o++) { for (var l = "", u = 0; u < n[1]; u++) l += this._generateMonth(t, a, s.getFullYear(), s.getMonth() + 1, a.options.renderer, 0 == o && 0 == u), r.add(s, 1, "m"); i += this._prepare(a.options.renderer.monthRow, a).replace(/\{months\}/, l) } var c = this._prepare(a.options.renderer.picker, a).replace(/\{months\}/, i).replace(/\{weekHeader\}/g, this._generateDayHeaders(a, a.options.renderer)), d = function (e, n, s, i, o) { if (-1 != c.indexOf("{" + e + ":" + i + "}")) { var l = a.options.commands[i], u = a.options.commandsAsDateFormat ? l.date.apply(t, [a]) : null; c = c.replace(new RegExp("\\{" + e + ":" + i + "\\}", "g"), "<" + n + (l.status ? ' title="' + a.options[l.status] + '"' : "") + ' class="' + a.options.renderer.commandClass + " " + a.options.renderer.commandClass + "-" + i + " " + o + (l.enabled(a) ? "" : " " + a.options.renderer.disabledClass) + '">' + (u ? r.formatDate(a.options[l.text], u, a.getConfig()) : a.options[l.text]) + "</" + s + ">") } }; for (var h in a.options.commands) d("button", 'button type="button"', "button", h, a.options.renderer.commandButtonClass), d("link", 'a href="javascript:void(0)"', "a", h, a.options.renderer.commandLinkClass); if (c = e(c), n[1] > 1) { var p = 0; e(a.options.renderer.monthSelector, c).each(function () { var t = ++p % n[1]; e(this).addClass(1 == t ? "first" : 0 == t ? "last" : "") }) } var f = this; c.find(a.options.renderer.daySelector + " a").hover(function () { e(this).addClass(a.options.renderer.highlightedClass) }, function () { (a.inline ? e(this).parents("." + f.markerClassName) : a.div).find(a.options.renderer.daySelector + " a").removeClass(a.options.renderer.highlightedClass) }).click(function () { f._selectDatePlugin(t, this) }).end().find("select." + this._monthYearClass + ":not(." + this._anyYearClass + ")").change(function () { var a = e(this).val().split("/"); f._showMonthPlugin(t, parseInt(a[1], 10), parseInt(a[0], 10)) }).end().find("select." + this._anyYearClass).click(function () { e(this).css("visibility", "hidden").next("input").css({ left: this.offsetLeft, top: this.offsetTop, width: this.offsetWidth, height: this.offsetHeight }).show().focus() }).end().find("input." + f._monthYearClass).change(function () { try { var n = parseInt(e(this).val(), 10); n = isNaN(n) ? a.drawDate.getFullYear() : n, f._showMonthPlugin(t, n, a.drawDate.getMonth() + 1, a.drawDate.getDate()) } catch (r) { alert(r) } }).keydown(function (t) { 13 == t.keyCode ? e(t.target).change() : 27 == t.keyCode && (e(t.target).hide().prev("select").css("visibility", "visible"), a.target.focus()) }), c.find("." + a.options.renderer.commandClass).click(function () { if (!e(this).hasClass(a.options.renderer.disabledClass)) { var n = this.className.replace(new RegExp("^.*" + a.options.renderer.commandClass + "-([^ ]+).*$"), "$1"); r._performActionPlugin(t, n) } }), a.options.isRTL && c.addClass(a.options.renderer.rtlClass), n[0] * n[1] > 1 && c.addClass(a.options.renderer.multiClass), a.options.pickerClass && c.addClass(a.options.pickerClass), e("body").append(c); var g = 0; return c.find(a.options.renderer.monthSelector).each(function () { g += e(this).outerWidth() }), c.width(g / n[0]), e.isFunction(a.options.onShow) && a.options.onShow.apply(t, [c, a]), c }, _generateMonth: function (t, a, n, s, i, o) {
                    var l = r.daysInMonth(n, s), u = a.options.monthsToShow; u = e.isArray(u) ? u : [1, u]; var c = a.options.fixedWeeks || u[0] * u[1] > 1, d = a.options.firstDay, h = (r.newDate(n, s, 1).getDay() - d + 7) % 7, p = c ? 6 : Math.ceil((h + l) / 7), f = a.options.selectOtherMonths && a.options.showOtherMonths, g = a.pickingRange ? a.selectedDates[0] : a.get("minDate"), m = a.get("maxDate"), y = i.week.indexOf("{weekOfYear}") > -1, v = r.today(), D = r.newDate(n, s, 1); r.add(D, -h - (c && D.getDay() == d ? 7 : 0), "d"); for (var _ = D.getTime(), b = "", k = 0; p > k; k++) {
                        for (var w = y ? '<span class="dp' + _ + '">' + (e.isFunction(a.options.calculateWeek) ? a.options.calculateWeek(D) : 0) + "</span>" : "", M = "", S = 0; 7 > S; S++) {
                            var C = !1;
                            if (a.options.rangeSelect && a.selectedDates.length > 0) C = D.getTime() >= a.selectedDates[0] && D.getTime() <= a.selectedDates[1]; else for (var T = 0; T < a.selectedDates.length; T++) if (a.selectedDates[T].getTime() == D.getTime()) { C = !0; break } var x = e.isFunction(a.options.onDate) ? a.options.onDate.apply(t, [D, D.getMonth() + 1 == s]) : {}, F = (f || D.getMonth() + 1 == s) && this._isSelectable(t, D, x.selectable, g, m); M += this._prepare(i.day, a).replace(/\{day\}/g, (F ? '<a href="javascript:void(0)"' : "<span") + ' class="dp' + _ + " " + (x.dateClass || "") + (C && (f || D.getMonth() + 1 == s) ? " " + i.selectedClass : "") + (F ? " " + i.defaultClass : "") + ((D.getDay() || 7) < 6 ? "" : " " + i.weekendClass) + (D.getMonth() + 1 == s ? "" : " " + i.otherMonthClass) + (D.getTime() == v.getTime() && D.getMonth() + 1 == s ? " " + i.todayClass : "") + (D.getTime() == a.drawDate.getTime() && D.getMonth() + 1 == s ? " " + i.highlightedClass : "") + '"' + (x.title || a.options.dayStatus && F ? ' title="' + (x.title || r.formatDate(a.options.dayStatus, D, a.getConfig())) + '"' : "") + ">" + (a.options.showOtherMonths || D.getMonth() + 1 == s ? x.content || D.getDate() : "&nbsp;") + (F ? "</a>" : "</span>")), r.add(D, 1, "d"), _ = D.getTime()
                        } b += this._prepare(i.week, a).replace(/\{days\}/g, M).replace(/\{weekOfYear\}/g, w)
                    } var N = this._prepare(i.month, a).match(/\{monthHeader(:[^\}]+)?\}/); N = N[0].length <= 13 ? "MM yyyy" : N[0].substring(13, N[0].length - 1), N = o ? this._generateMonthSelection(a, n, s, g, m, N, i) : r.formatDate(N, r.newDate(n, s, 1), a.getConfig()); var A = this._prepare(i.weekHeader, a).replace(/\{days\}/g, this._generateDayHeaders(a, i)); return this._prepare(i.month, a).replace(/\{monthHeader(:[^\}]+)?\}/g, N).replace(/\{weekHeader\}/g, A).replace(/\{weeks\}/g, b)
                }, _generateDayHeaders: function (e, t) { for (var a = "", n = 0; 7 > n; n++) { var r = (n + e.options.firstDay) % 7; a += this._prepare(t.dayHeader, e).replace(/\{day\}/g, '<span class="' + this._curDoWClass + r + '" title="' + e.options.dayNames[r] + '">' + e.options.dayNamesMin[r] + "</span>") } return a }, _generateMonthSelection: function (e, t, a, n, s, i) { if (!e.options.changeMonth) return r.formatDate(i, r.newDate(t, a, 1), e.getConfig()); for (var o = e.options["monthNames" + (i.match(/mm/i) ? "" : "Short")], l = i.replace(/m+/i, "\\x2E").replace(/y+/i, "\\x2F"), u = '<select class="' + this._monthYearClass + '" title="' + e.options.monthStatus + '">', c = 1; 12 >= c; c++) (!n || r.newDate(t, c, r.daysInMonth(t, c)).getTime() >= n.getTime()) && (!s || r.newDate(t, c, 1).getTime() <= s.getTime()) && (u += '<option value="' + c + "/" + t + '"' + (a == c ? ' selected="selected"' : "") + ">" + o[c - 1] + "</option>"); u += "</select>", l = l.replace(/\\x2E/, u); var d = e.options.yearRange; if ("any" == d) u = '<select class="' + this._monthYearClass + " " + this._anyYearClass + '" title="' + e.options.yearStatus + '">' + "<option>" + t + "</option></select>" + '<input class="' + this._monthYearClass + " " + this._curMonthClass + a + '" value="' + t + '">'; else { d = d.split(":"); var h = r.today().getFullYear(), p = d[0].match("c[+-].*") ? t + parseInt(d[0].substring(1), 10) : (d[0].match("[+-].*") ? h : 0) + parseInt(d[0], 10), f = d[1].match("c[+-].*") ? t + parseInt(d[1].substring(1), 10) : (d[1].match("[+-].*") ? h : 0) + parseInt(d[1], 10); u = '<select class="' + this._monthYearClass + '" title="' + e.options.yearStatus + '">', p = r.add(r.newDate(p + 1, 1, 1), -1, "d"), f = r.newDate(f, 1, 1); var g = function (e) { 0 != e && (u += '<option value="' + a + "/" + e + '"' + (t == e ? ' selected="selected"' : "") + ">" + e + "</option>") }; if (p.getTime() < f.getTime()) { p = (n && n.getTime() > p.getTime() ? n : p).getFullYear(), f = (s && s.getTime() < f.getTime() ? s : f).getFullYear(); for (var m = p; f >= m; m++) g(m) } else { p = (s && s.getTime() < p.getTime() ? s : p).getFullYear(), f = (n && n.getTime() > f.getTime() ? n : f).getFullYear(); for (var m = p; m >= f; m--) g(m) } u += "</select>" } return l = l.replace(/\\x2F/, u) }, _prepare: function (e, t) { var a = function (t, a) { for (; ;) { var n = e.indexOf("{" + t + ":start}"); if (-1 == n) return; var r = e.substring(n).indexOf("{" + t + ":end}"); r > -1 && (e = e.substring(0, n) + (a ? e.substr(n + t.length + 8, r - t.length - 8) : "") + e.substring(n + r + t.length + 6)) } }; a("inline", t.inline), a("popup", !t.inline); for (var n = /\{l10n:([^\}]+)\}/, r = null; r = n.exec(e) ;) e = e.replace(r[0], t.options[r[1]]); return e }
            }); var n = ["getDate", "isDisabled", "isSelectable", "retrieveDate"]; e.fn.datepick = function (e) { var t = Array.prototype.slice.call(arguments, 1); return a(e, t) ? r["_" + e + "Plugin"].apply(r, [this[0]].concat(t)) : this.each(function () { if ("string" == typeof e) { if (!r["_" + e + "Plugin"]) throw "Unknown command: " + e; r["_" + e + "Plugin"].apply(r, [this].concat(t)) } else r._attachPlugin(this, e || {}) }) }; var r = e.datepick = new t; e(function () { e(document).mousedown(r._checkExternalClick).resize(function () { r._hidePlugin(r.curInst) }) })
        }(jQuery);
        !function (e) { e.datepick.regional["en-US"] = { monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], dateFormat: "mm/dd/yyyy", firstDay: 0, renderer: this.defaultRenderer, prevText: "&lt;Prev", prevStatus: "Show the previous month", prevJumpText: "&lt;&lt;", prevJumpStatus: "Show the previous year", nextText: "Next&gt;", nextStatus: "Show the next month", nextJumpText: "&gt;&gt;", nextJumpStatus: "Show the next year", currentText: "Current", currentStatus: "Show the current month", todayText: "Today", todayStatus: "Show today's month", clearText: "Clear", clearStatus: "Clear all the dates", closeText: "Close", closeStatus: "Close the datepicker", yearStatus: "Change the year", monthStatus: "Change the month", weekText: "Wk", weekStatus: "Week of the year", dayStatus: "Select DD, M d, yyyy", defaultStatus: "Select a date", isRTL: !1 }, e.datepick.setDefaults(e.datepick.regional["en-US"]) }(jQuery);
        !function (e) { function t(e) { var t = e.naturalWidth, a = e.naturalHeight; if (t * a > 1048576) { var n = document.createElement("canvas"); n.width = n.height = 1; var r = n.getContext("2d"); return r.drawImage(e, -t + 1, 0), 0 === r.getImageData(0, 0, 1, 1).data[3] } return !1 } function a(e, t, a) { var n = document.createElement("canvas"); n.width = 1, n.height = a; var r = n.getContext("2d"); r.drawImage(e, 0, 0); for (var s = r.getImageData(0, 0, 1, a).data, i = 0, o = a, l = a; l > i;) { var u = s[4 * (l - 1) + 3]; 0 === u ? o = l : i = l, l = o + i >> 1 } var c = l / a; return 0 === c ? 1 : c } function n(e, t, a) { var n = document.createElement("canvas"); return r(e, n, t, a), n.toDataURL("image/jpeg", t.quality || .8) } function r(e, n, r, i) { var o = e.naturalWidth, l = e.naturalHeight, u = r.width, c = r.height, d = n.getContext("2d"); d.save(), s(n, d, u, c, r.orientation); var h = t(e); h && (o /= 2, l /= 2); var p = 1024, f = document.createElement("canvas"); f.width = f.height = p; for (var g = f.getContext("2d"), m = i ? a(e, o, l) : 1, y = Math.ceil(p * u / o), v = Math.ceil(p * c / l / m), D = 0, b = 0; l > D;) { for (var _ = 0, k = 0; o > _;) g.clearRect(0, 0, p, p), g.drawImage(e, -_, -D), d.drawImage(f, 0, 0, p, p, k, b, y, v), _ += p, k += y; D += p, b += v } d.restore(), f = g = null } function s(e, t, a, n, r) { switch (r) { case 5: case 6: case 7: case 8: e.width = n, e.height = a; break; default: e.width = a, e.height = n } switch (r) { case 2: t.translate(a, 0), t.scale(-1, 1); break; case 3: t.translate(a, n), t.rotate(Math.PI); break; case 4: t.translate(0, n), t.scale(1, -1); break; case 5: t.rotate(.5 * Math.PI), t.scale(1, -1); break; case 6: t.rotate(.5 * Math.PI), t.translate(0, -n); break; case 7: t.rotate(.5 * Math.PI), t.translate(a, -n), t.scale(-1, 1); break; case 8: t.rotate(-.5 * Math.PI), t.translate(-a, 0) } } function i(e) { if (window.Blob && e instanceof Blob) { var t = new Image, a = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null; if (!a) throw Error("No createObjectURL function found to create blob url"); t.src = a.createObjectURL(e), this.blob = e, e = t } if (!e.naturalWidth && !e.naturalHeight) { var n = this; e.onload = function () { var e = n.imageLoadListeners; if (e) { n.imageLoadListeners = null; for (var t = 0, a = e.length; a > t; t++) e[t]() } }, this.imageLoadListeners = [] } this.srcImage = e } i.prototype.render = function (e, t) { if (this.imageLoadListeners) { var a = this; return this.imageLoadListeners.push(function () { a.render(e, t) }), void 0 } t = t || {}; var s = this.srcImage.naturalWidth, i = this.srcImage.naturalHeight, o = t.width, l = t.height, u = t.maxWidth, c = t.maxHeight, d = !this.blob || "image/jpeg" === this.blob.type; o && !l ? l = i * o / s << 0 : l && !o ? o = s * l / i << 0 : (o = s, l = i), u && o > u && (o = u, l = i * o / s << 0), c && l > c && (l = c, o = s * l / i << 0); var h = { width: o, height: l }; for (var p in t) h[p] = t[p]; var f = e.tagName.toLowerCase(); "img" === f ? e.src = n(this.srcImage, h, d) : "canvas" === f && r(this.srcImage, e, h, d), "function" == typeof this.onrender && this.onrender(e) }, e.MegaPixImage = i }(this);
        !function () { function e(e) { return !!e.exifdata } function t(e, t) { t = t || e.match(/^data\:([^\;]+)\;base64,/im)[1] || "", e = e.replace(/^data\:([^\;]+)\;base64,/gim, ""); for (var n = atob(e), a = n.length, r = new ArrayBuffer(a), s = new Uint8Array(r), i = 0; a > i; i++) s[i] = n.charCodeAt(i); return r } function a(e, t) { var n = new XMLHttpRequest; n.open("GET", e, !0), n.responseType = "blob", n.onload = function () { (200 == this.status || 0 === this.status) && t(this.response) }, n.send() } function r(e, n) { function r(t) { var a = s(t), r = i(t); e.exifdata = a || {}, e.iptcdata = r || {}, n && n.call(e) } if (e.src) if (/^data\:/i.test(e.src)) { var o = t(e.src); r(o) } else if (/^blob\:/i.test(e.src)) { var l = new FileReader; l.onload = function (e) { r(e.target.result) }, a(e.src, function (e) { l.readAsArrayBuffer(e) }) } else { var u = new XMLHttpRequest; u.onload = function () { if (200 != this.status && 0 !== this.status) throw "Could not load image"; r(u.response), u = null }, u.open("GET", e.src, !0), u.responseType = "arraybuffer", u.send(null) } else if (window.FileReader && (e instanceof window.Blob || e instanceof window.File)) { var l = new FileReader; l.onload = function (e) { h && console.log("Got file of length " + e.target.result.byteLength), r(e.target.result) }, l.readAsArrayBuffer(e) } } function s(e) { var t = new DataView(e); if (h && console.log("Got file of length " + e.byteLength), 255 != t.getUint8(0) || 216 != t.getUint8(1)) return h && console.log("Not a valid JPEG"), !1; for (var n, a = 2, r = e.byteLength; r > a;) { if (255 != t.getUint8(a)) return h && console.log("Not a valid marker at offset " + a + ", found: " + t.getUint8(a)), !1; if (n = t.getUint8(a + 1), h && console.log(n), 225 == n) return h && console.log("Found 0xFFE1 marker"), d(t, a + 4, t.getUint16(a + 2) - 2); a += 2 + t.getUint16(a + 2) } } function i(e) { var t = new DataView(e); if (h && console.log("Got file of length " + e.byteLength), 255 != t.getUint8(0) || 216 != t.getUint8(1)) return h && console.log("Not a valid JPEG"), !1; for (var n = 2, a = e.byteLength, r = function (e, t) { return 56 === e.getUint8(t) && 66 === e.getUint8(t + 1) && 73 === e.getUint8(t + 2) && 77 === e.getUint8(t + 3) && 4 === e.getUint8(t + 4) && 4 === e.getUint8(t + 5) }; a > n;) { if (r(t, n)) { var s = t.getUint8(n + 7); 0 !== s % 2 && (s += 1), 0 === s && (s = 4); var i = n + 8 + s, l = t.getUint16(n + 6 + s); return o(e, i, l) } n++ } } function o(e, t, n) { for (var a, r, s, i, o, l = new DataView(e), u = {}, d = t; t + n > d;) 28 === l.getUint8(d) && 2 === l.getUint8(d + 1) && (i = l.getUint8(d + 2), i in m && (s = l.getInt16(d + 3), o = s + 5, r = m[i], a = c(l, d + 5, s), u.hasOwnProperty(r) ? u[r] instanceof Array ? u[r].push(a) : u[r] = [u[r], a] : u[r] = a)), d++; return u } function l(e, t, n, a, r) { var s, i, o, l = e.getUint16(n, !r), c = {}; for (o = 0; l > o; o++) s = n + 12 * o + 2, i = a[e.getUint16(s, !r)], !i && h && console.log("Unknown tag: " + e.getUint16(s, !r)), c[i] = u(e, s, t, n, r); return c } function u(e, t, n, a, r) { var s, i, o, l, u, d, h = e.getUint16(t + 2, !r), f = e.getUint32(t + 4, !r), p = e.getUint32(t + 8, !r) + n; switch (h) { case 1: case 7: if (1 == f) return e.getUint8(t + 8, !r); for (s = f > 4 ? p : t + 8, i = [], l = 0; f > l; l++) i[l] = e.getUint8(s + l); return i; case 2: return s = f > 4 ? p : t + 8, c(e, s, f - 1); case 3: if (1 == f) return e.getUint16(t + 8, !r); for (s = f > 2 ? p : t + 8, i = [], l = 0; f > l; l++) i[l] = e.getUint16(s + 2 * l, !r); return i; case 4: if (1 == f) return e.getUint32(t + 8, !r); for (i = [], l = 0; f > l; l++) i[l] = e.getUint32(p + 4 * l, !r); return i; case 5: if (1 == f) return u = e.getUint32(p, !r), d = e.getUint32(p + 4, !r), o = new Number(u / d), o.numerator = u, o.denominator = d, o; for (i = [], l = 0; f > l; l++) u = e.getUint32(p + 8 * l, !r), d = e.getUint32(p + 4 + 8 * l, !r), i[l] = new Number(u / d), i[l].numerator = u, i[l].denominator = d; return i; case 9: if (1 == f) return e.getInt32(t + 8, !r); for (i = [], l = 0; f > l; l++) i[l] = e.getInt32(p + 4 * l, !r); return i; case 10: if (1 == f) return e.getInt32(p, !r) / e.getInt32(p + 4, !r); for (i = [], l = 0; f > l; l++) i[l] = e.getInt32(p + 8 * l, !r) / e.getInt32(p + 4 + 8 * l, !r); return i } } function c(e, t, a) { var r = ""; for (n = t; t + a > n; n++) r += String.fromCharCode(e.getUint8(n)); return r } function d(e, t) { if ("Exif" != c(e, t, 4)) return h && console.log("Not valid EXIF data! " + c(e, t, 4)), !1; var n, a, r, s, i, o = t + 6; if (18761 == e.getUint16(o)) n = !1; else { if (19789 != e.getUint16(o)) return h && console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"), !1; n = !0 } if (42 != e.getUint16(o + 2, !n)) return h && console.log("Not valid TIFF data! (no 0x002A)"), !1; var u = e.getUint32(o + 4, !n); if (8 > u) return h && console.log("Not valid TIFF data! (First offset less than 8)", e.getUint32(o + 4, !n)), !1; if (a = l(e, o, o + u, g, n), a.ExifIFDPointer) { s = l(e, o, o + a.ExifIFDPointer, ExifTags, n); for (r in s) { switch (r) { case "LightSource": case "Flash": case "MeteringMode": case "ExposureProgram": case "SensingMethod": case "SceneCaptureType": case "SceneType": case "CustomRendered": case "WhiteBalance": case "GainControl": case "Contrast": case "Saturation": case "Sharpness": case "SubjectDistanceRange": case "FileSource": s[r] = StringValues[r][s[r]]; break; case "ExifVersion": case "FlashpixVersion": s[r] = String.fromCharCode(s[r][0], s[r][1], s[r][2], s[r][3]); break; case "ComponentsConfiguration": s[r] = StringValues.Components[s[r][0]] + StringValues.Components[s[r][1]] + StringValues.Components[s[r][2]] + StringValues.Components[s[r][3]] } a[r] = s[r] } } if (a.GPSInfoIFDPointer) { i = l(e, o, o + a.GPSInfoIFDPointer, GPSTags, n); for (r in i) { switch (r) { case "GPSVersionID": i[r] = i[r][0] + "." + i[r][1] + "." + i[r][2] + "." + i[r][3] } a[r] = i[r] } } return a } var h = !1, f = this, p = function (e) { return e instanceof p ? e : this instanceof p ? (this.EXIFwrapped = e, void 0) : new p(e) }; "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = p), exports.EXIF = p) : f.EXIF = p; var g = p.TiffTags = { 274: "Orientation" }, m = { 120: "caption", 110: "credit", 25: "keywords", 55: "dateCreated", 80: "byline", 85: "bylineTitle", 122: "captionWriter", 105: "headline", 116: "copyright", 15: "category" }; p.getData = function (t, n) { return (t instanceof Image || t instanceof HTMLImageElement) && !t.complete ? !1 : (e(t) ? n && n.call(t) : r(t, n), !0) }, p.getTag = function (t, n) { return e(t) ? t.exifdata[n] : void 0 }, p.getAllTags = function (t) { if (!e(t)) return {}; var n, a = t.exifdata, r = {}; for (n in a) a.hasOwnProperty(n) && (r[n] = a[n]); return r }, p.pretty = function (t) { if (!e(t)) return ""; var n, a = t.exifdata, r = ""; for (n in a) a.hasOwnProperty(n) && (r += "object" == typeof a[n] ? a[n] instanceof Number ? n + " : " + a[n] + " [" + a[n].numerator + "/" + a[n].denominator + "]\r\n" : n + " : [" + a[n].length + " values]\r\n" : n + " : " + a[n] + "\r\n"); return r }, p.readFromBinaryFile = function (e) { return s(e) }, "function" == typeof define && define.amd && define("exif-js", [], function () { return p }) }.call(this);
    }).call((this.shortcuts.widgets.vendor = this.shortcuts.widgets.vendor || {}), this.shortcuts.widgets); !function (e) { !function (t) { t.shortcutsWidget = function (t, n) { return e.shortcuts.widgets.handlers.loadNewWidget(t, this.first(), n) } }($.fn), $.datepick.setDefaults({ useMouseWheel: !0, pickerClass: "sw-datepicker", showAnim: "fadeIn", showOptions: null, onShow: function (e) { var t, n; t = e.parent(), n = $._data(t[0], "events"), ("undefined" == typeof n || "undefined" != typeof n && !n.click) && t.on("click", function (e) { e.stopPropagation() }) }, renderer: $.extend({}, $.datepick.defaultRenderer, { picker: $.datepick.defaultRenderer.picker.replace(/\{link:prev\}/, "{link:prevJump}{link:prev}").replace(/\{link:next\}/, "{link:nextJump}{link:next}") }) }) }(this);
    !function (e) { var t; t = e.shortcuts.widgets, t.strings = { dayOfWeek: { sunday: "Sunday", shortSunday: "Sun", monday: "Monday", shortMonday: "Mon", tuesday: "Tuesday", shortTuesday: "Tue", wednesday: "Wednesday", shortWednesday: "Wed", thursday: "Thursday", shortThursday: "Thu", friday: "Friday", shortFriday: "Fri", saturday: "Saturday", shortSaturday: "Sat" }, monthsOfYear: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], alert: "Alert", ok: "Ok", yes: "Yes", no: "No", systemError: "Sorry, there was a problem with our servers. Please try again later.", unauthorisedError: "There is a problem with your account. Please refresh the page, or try again later.", sessionTimeout: "Sorry, there was a problem trying to contact our servers. Please refresh the page, or try again later.", invalidVersion: "This webpage has recently been updated. Please refresh the page.", cannotUseFaceBookLoginError: "You already have an account with us that was not created with Facebook. Please log in by entering your email address.", cannotUseFaceBookLoginErrorTitle: "Cannot Use Facebook Login", invalidLoginCredentials: "This Facebook account cannot be used to log in.", siteOfflineError: "This business is temporarily offline. Please try again later, or call us within business hours.", siteOfflineErrorTitle: "Site Currently Offline" } }(this);
    !function (e) { var t, n; t = e.shortcuts.widgets, n = t.events = {}, n.WIDGET_DONE = "shortcutsWidgetDone", n.WIDGET_RENDERED = "shortcutsWidgetRendered", n.WIDGET_AJAX_BEGIN = "shortcutsWidgetAjaxBegin", n.WIDGET_AJAX_END = "shortcutsWidgetAjaxEnd", n.ON_SERVICE_SELECTED_BOOKING = "shortcutsWidgetOnServiceSelected", n.ON_SERVICE_SELECTED_CHECKIN = "shortcutsWidgetOnServiceSelectedCheckin", n.ON_APPOINTMENT_REBOOK = "shortcutsWidgetOnAppointmentRebook", n.ON_BOOKING_TIME_SELECTED = "shortcutsWidgetOnBookingTimeSelected", n.ON_BOOKING_CLICK_ADD_SERVICE = "shortcutsWidgetOnClickAddService", n.ON_BOOKING_CLICK_REMOVE_SERVICE = "shortcutsWidgetOnClickRemoveService", n.ON_BOOKING_CHANGE_EMPLOYEE = "shortcutsWidgetOnBookingChangeEmployee", n.ON_BOOKING_CONFIRMATION_BACK = "shortcutsWidgetOnBookingConfirmBack", n.ON_BOOKING_CONFIRMATION_CONFIRMED = "shortcutsWidgetOnBookingConfirm", n.ON_BOOKING_LOAD_AVAILABILITIES = "shortcutsWidgetOnBookingLoadAppts", n.ON_BOOKING_RENDER_AVAILABILITIES = "shortcutsWidgetOnBookingRenderAppts", n.ON_BOOKING_REQUEST_ALTERNATIVES = "shortcutsWidgetOnBookingRequestAlts", n.ON_BOOKING_LOAD_ALTERNATIVES = "shortcutsWidgetOnBookingLoadAlts", n.ON_BOOKING_RENDER_ALTERNATIVES = "shortcutsWidgetOnBookingRenderAlts", n.ON_BOOKING_CLICK_GO_TO_ALTERNATIVE = "shortcutsWidgetOnBookingGoToAlt", n.ON_EMPLOYEE_SELECTED_BOOKING = "shortcutsWidgetOnEmployeeSelected", n.ON_EMPLOYEE_SELECTED_CHECKIN = "shortcutsWidgetOnEmployeeSelectedCheckin", n.ON_CHECKIN_REBOOK = "shortcutsWidgetOnCheckinRebook", n.ON_CHECKIN_CANCELLED = "shortcutsWidgetOnCheckinCancelled", n.ON_CHECKIN_DELAY_SELECTED = "shortcutsWidgetOnDelaySelected", n.ON_CHECKIN_DELAY_BACK = "shortcutsWidgetOnDelayBack", n.ON_SPECIAL_SELECTED = "shortcutsWidgetOnSpecialSelected", n.trigger = function (e, n, a) { var r, s, o; return s = {}, r = $(document), e && (s.widget = e, e.$el && (r = e.$el)), t.vendor._.extend(s, a), o = $.Event(n), r.trigger(o, [s]), o.result !== !1 }, t.EventDispatcher = { on: function (e, t, n) { $(document).on(e, t.bind(n)) } }, $(window).off("resize.sw").on("resize.sw", function () { t.cache.widgetCache.each(function (e) { e.resize.call(e) }) }) }(this);
    !function (e) { var t = e.shortcuts.widgets; t.util = { formatTime: function (e) { return t.vendor.moment(e, "HH:mm:ss").format("LT") }, formatText: function () { for (var e = arguments[0], t = 0; t < arguments.length - 1; t++) { var n = new RegExp("\\{" + t + "\\}", "gm"); e = e.replace(n, arguments[t + 1]) } return e }, formatDuration: function (e, n) { if (!e) throw "Interval required"; if ("m" === e.toLowerCase()) return t.vendor.moment.duration.fromIsoduration(n).asMinutes(); throw "Interval not implemented" }, getLink: function (e, t) { var n; for (n = 0; n < e.length; n++) if (e[n].rel === t) return e[n] }, roundToMultiple: function (e, t, n) { switch (n) { case "up": return Math.ceil(e / t) * t; case "down": return Math.floor(e / t) * t; case "closest": default: return Math.round(e / t) * t } } } }(this);
    !function (e) { var t = e.shortcuts.widgets; t.style = { ".sw-hidden": { display: "none !important" }, ".sw-datepicker .datepick-rtl": { direction: "rtl" }, ".sw-datepicker .datepick-popup": { zIndex: "1000" }, ".sw-datepicker .datepick-disable": { position: "absolute", zIndex: "100", opacity: "0.5" }, ".sw-datepicker .datepick a": { textDecoration: "none" }, ".sw-datepicker .datepick a.datepick-disabled, .sw-datepicker  .datepick-month td span, .sw-datepicker .datepick-month-nav span": { opacity: "0.5", cursor: "auto" }, ".sw-datepicker .datepick-nav *, .sw-datepicker .datepick-ctrl *": { "float": "left", padding: "5px 2%" }, ".sw-datepicker .datepick-nav": { textAlign: "center", verticalAlign: "bottom" }, ".sw-datepicker .datepick-cmd-prev, .sw-datepicker .datepick-cmd-next": { margin: "0 px" }, ".sw-datepicker .datepick-cmd-prev, .sw-datepicker .datepick-cmd-prevJump, .sw-datepicker .datepick-cmd-clear": { "float": "left" }, ".sw-datepicker .datepick-cmd-next, .sw-datepicker .datepick-cmd-nextJump, .sw-datepicker .datepick-cmd-close": { "float": "right", textAlign: "right" }, ".sw-datepicker .datepick-rtl .datepick-cmd-prev, .sw-datepicker .datepick-rtl .datepick-cmd-prevJump, .sw-datepicker .datepick-rtl .datepick-cmd-clear": { "float": "right", textAlign: "right" }, ".sw-datepicker .datepick-rtl .datepick-cmd-next, .sw-datepicker .datepick-rtl .datepick-cmd-nextJump, .sw-datepicker .datepick-rtl .datepick-cmd-close": { "float": "left", textAlign: "left" }, ".sw-datepicker .datepick-cmd-today": { "float": "none", position: "relative", top: "5px" }, ".sw-datepicker .datepick-month-nav": { "float": "left", textAlign: "center" }, ".sw-datepicker .datepick-month-nav div": { "float": "left", width: "12.5%", margin: "1%", padding: "1%" }, ".sw-datepicker .datepick-month-row": { clear: "left" }, ".sw-datepicker .datepick-month": { "float": "left", border: "0", width: "100%", textAlign: "center" }, ".sw-datepicker .datepick-month-header select": { display: "inline !important", padding: "0 2.6rem 0 0" }, ".sw-datepicker .datepick-month-header select, .sw-datepicker .datepick-month-header input": { width: "auto" }, ".sw-datepicker .datepick-month-header input": { position: "absolute", display: "none" }, ".sw-datepicker .datepick-month table": { width: "98%", margin: "1%", borderSpacing: "1px", tableLayout: "fixed" }, ".sw-datepicker .datepick-month th, .sw-datepicker .datepick-month td": { margin: "0", padding: "0", fontWeight: "normal", textAlign: "center" }, ".sw-datepicker .datepick-month th": { border: "none" }, ".sw-datepicker .datepick-month td.datepick-week *": { border: "none" }, ".sw-datepicker .datepick-month a, .sw-datepicker .datepick-month span": { display: "block", width: "100%", padding: "0.5rem 0", textDecoration: "none" }, ".sw-datepicker .datepick-status": { clear: "both", textAlign: "center" }, ".sw-datepicker .datepick-clear-fix": { clear: "both" }, ".sw-datepicker": { backgroundColor: "#353731", width: "100% !important", maxWidth: "300px !important" }, ".sw-datepicker a, .sw-datepicker span": { color: "#e4dcd0" }, ".sw-datepicker .datepick-cmd:not(.datepick-disabled), .sw-datepicker .datepick-month td .datepick-highlight": { transition: "box-shadow 1s", mozTransition: "-moz-box-shadow 1s, box-shadow 1s", webkitTransition: "-webkit-box-shadow 1s, box-shadow 1s", boxShadow: "inset 0 0 0 9999rem rgba(199, 206, 171, 0)", mozBoxShadow: "inset 0 0 0 9999rem rgba(199, 206, 171, 0)", webkitBoxShadow: "inset 0 0 0 9999rem rgba(199, 206, 171, 0)" }, ".sw-datepicker .datepick-cmd:not(.datepick-disabled):hover, .sw-datepicker .datepick-month td .datepick-highlight:hover": { backgroundColor: "#7b9758", color: "#e4dcd0" }, ".sw-datepicker .datepick-cmd:not(.datepick-disabled):active, .sw-datepicker .datepick-month td .datepick-highlight:active": { transition: "none", mozTransition: "none", webkitTransition: "none", boxShadow: "inset 0 0 0 9999rem #c7ceab", mozBoxShadow: "inset 0 0 0 9999rem #c7ceab", webkitBoxShadow: "inset 0 0 0 9999rem #c7ceab" }, ".sw-datepicker .datepick-month a": { backgroundColor: "rgba(0, 0, 0, 0.3)" }, ".sw-datepicker .datepick-month td .datepick-other-month": { backgroundColor: "transparent" }, ".sw-datepicker .datepick-month td .datepick-today": { backgroundColor: "#474f32", color: "#e4dcd0" }, ".sw-datepicker .datepick-month td .datepick-selected": { backgroundColor: "#7b9758", color: "#e4dcd0" }, ".sw-datepicker .datepick-month-header": { backgroundColor: "#474f32" } }, t.getAppSetting("defaultStylesEnabled") && (t.createStyleSheet(!0), t.addStyles(null, t.style)) }(this);
    !function (e) { var t, a, n, r, s, i, o; t = e.shortcuts.widgets, a = t.cache = {}, n = {}, r = {}, s = function (e, t, a) { this.key = e, this.value = t, this.index = a, this.createdAt = (new Date).getTime() }, i = { get: function (e, t, a) { var n, r; return n = a[e], n ? t && (r = (new Date).getTime() - n.createdAt, r > t.asMilliseconds()) ? (this.remove(e, a), null) : n.value : null }, set: function (e, a, n) { var r; return r = n[e] = new s(e, a, t.vendor._.keys(n).length + 1), r.value }, remove: function (e, t) { delete t[e] }, each: function (e, a, n, r) { return n ? (t.vendor._.each(t.vendor._.sortBy(t.vendor._.map(e, function (e, t, a) { return { item: e, key: t, list: a } }), function (e) { return -1 * e.item.index }), function (e, t, n) { a(e.item.value, e.item.key, n, r) }), void 0) : (t.vendor._.each(e, function (e, t, n) { a(e.value, t, n, r) }), void 0) } }, o = function (e, t, n) { if ("customer" === n) { var r = a.stateCache.get(e, "site"); if (!r.company_url) throw "Site details not in widget cache yet!"; e = r.company_url } return t[e] = t[e] || {} }, a.widgetCache = { get: function (e, t, a) { return i.get(t, a, o(e, n)) }, set: function (e, t, a) { return i.set(t, a, o(e, n)) }, remove: function (e, t) { i.remove(t, o(e, n)) }, each: function (e, t) { if (1 !== arguments.length) i.each(o(e, n), t, !0, e); else { t = e; for (var a in n) n.hasOwnProperty(a) && i.each(o(a, n), t, !0, a) } } }, a.stateCache = { get: function (e, t, a) { var n; return n = i.get(t, a, o(e, r, t)), n ? n : i.set(t, {}, o(e, r, t)) }, set: function (e, t, a) { return i.set(t, a, o(e, r, t)) }, remove: function (e, t) { i.remove(t, o(e, r, t)) }, each: function (e, t) { if (1 !== arguments.length) i.each(o(e, r), t, !1, e); else { t = e; for (var a in r) r.hasOwnProperty(a) && i.each(o(a, r), t, !0, a) } } } }(this);
    !function (e) { function t(e, t) { return "device" in window && window.device.uuid && (t = n.vendor._.extend({}, t, { device_uuid: window.device.uuid })), e.getApiUrl("company", "authenticate_customer").then(function (n) { return e.signedPost(n, t) }).then(function (e) { var a = $.Deferred(); return "facebook" === t.credential_type_code ? n.vendor.openFB.api({ path: "/me/picture", params: { redirect: "false", type: "large" }, success: function (t) { e.customer.facebook_display_image = t.data.url, a.resolve(e) }, error: function () { a.resolve(e) } }) : a.resolve(e), a.promise() }).then(function (t) { e.setState("customer", n.vendor._.extend({}, t.customer, { href: t.href, expiry_utc_date_time: t.expiry_utc_date_time })) }) } var n, a, r; n = e.shortcuts.widgets, a = n.handlers = {}, r = function (e) { var t, n, a, r, s; return t = $(document.createElement("div")).attr("data-sw-id", e).addClass("sw-message-dialog").css({ position: "relative", zIndex: "100" }), n = $(document.createElement("div")).addClass("sw-message-dialog-content").css({ position: "absolute", left: "0", right: "0", backgroundColor: "#FFFFFF", border: "1px solid #CCCCCC" }), a = $(document.createElement("div")).addClass("sw-message-dialog-title").css({ padding: "5px", fontWeight: "bold" }), r = $(document.createElement("div")).addClass("sw-message-dialog-message").css({ padding: "5px" }), s = $(document.createElement("div")).addClass("sw-message-dialog-action-bar").css({ padding: "5px", textAlign: "right", backgroundColor: "rgba(204,204,204, 0.2)" }), n.append(a), n.append(r), n.append(s), t.append(n), t }, a.onBeginRequest = function () { n.events.trigger(this, n.events.WIDGET_AJAX_BEGIN) }, a.onEndRequest = function () { n.events.trigger(this, n.events.WIDGET_AJAX_END) }, a.loadNewWidget = function (e, t, a) { var r, s, i, o, l, c, d, u, h, p, g; return g = n.getWidgetSpecificAppSetting("widgetInitArgs", e), g || (g = {}), r = { resume: !1, load: !0, initArgs: {} }, s = n.vendor._.extend(r, a), n.vendor._.defaults(s.initArgs, g), c = [], this.resumeHandlers && (c = this.resumeHandlers), this.$el && s.resume && !s.isResuming && c.push({ path: this.path, $el: this.$el, resumeArgs: s.resumeArgs }), l = [], this.widgetBackHistory && (l = this.widgetBackHistory), d = s.siteId || this.siteId || n.getAppSetting("siteId"), h = !1, o = n.getWidgetSpecificAppSetting("widgetEl", e), o && (t = o, u = n.cache.widgetCache.get(d, e), u && t.is(u.$el) && (h = !0)), i = $.Deferred(), h ? p = $.Deferred().resolve() : (t = t || this.$el, n.cache.widgetCache.each(function (e, a, r, s) { 0 !== e.$el.closest(t).length && (e.close(), n.cache.widgetCache.remove(s, a)) }), p = n.handlers.getApiUrl("widget", e).then(function (e) { return $.ajax(e) }).then(function (a) { if (n._currentEl = t, n._currentPath = e, n._currentSiteId = d, t.css("visibility", "hidden"), t.html(a), delete n._currentEl, delete n._currentPath, delete n._currentSiteId, u = n.cache.widgetCache.get(d, e), !u) throw "Widget '" + e + "' not initialised properly. Was registerWidget() not called? A syntax error in the widget?"; return u.widgetBackHistory = l, u.resumeHandlers = c, n.ensureSiteDetailsInCache(d) })), p.done(function () { n.vendor._.isFunction(u.initialize) && u.initialize.call(u, s.initArgs || {}), s.isResuming ? (u.onResume(s.resumeArgs), t.css("visibility", ""), i.resolve(u)) : s.load ? u.load().done(function () { var t, a; if (!u.isClosed) { if (!h && !s.isGoingBack) switch (l.length > 0 && l[l.length - 1].clearOnAddition && l.splice(0, l.length - 1), t = u.getBackSetting(), a = { path: e, initArgs: s.initArgs, backSetting: t }, t) { case n.BACK_CLEAR_PREVIOUS: l.splice(0, l.length, a); break; case n.BACK_CLEAR_PREVIOUS_UPON_ADDITION: for (var r = l.length - 1; r >= 0 && !l[r].clearOnAddition; r--); l.splice(0, r + 1), l.push(n.vendor._.extend(a, { clearOnAddition: !0 })); break; case n.BACK_NORMAL: l.push(a) } u.render() } i.resolve(u) }).fail(function () { i.reject.apply(i, arguments) }).always(function () { t.css("visibility", ""), u.onLoadComplete() }) : i.resolve(u) }).fail(function () { i.reject.apply(i, arguments) }), i.promise() }, a.onDone = function () { var e; return this.resumeHandlers && 0 !== this.resumeHandlers.length ? (e = this.resumeHandlers.pop(), this.loadNewWidget(e.path, e.$el, { isResuming: !0, resumeArgs: e.resumeArgs }), void 0) : (n.events.trigger(this, n.events.WIDGET_DONE), void 0) }, a.onLoadComplete = function () { n.events.trigger(this, n.events.WIDGET_RENDERED) }, a.showAlert = function (e, t, a) { var s, i, o, l; return s = $.Deferred(), e = e.replace(/\n/g, "<br>"), t = t || n.strings.alert, a = a || n.strings.ok, i = this.$el.find("div.sw-message-dialog[data-sw-id='" + this.path + "']"), 0 === i.length && (i = r(this.path), o = i.find(".sw-message-dialog-action-bar"), l = $(document.createElement("button")).css({ pointerEvents: "auto" }).click(function (e, t, n) { return function () { t.find(".sw-message-dialog-action-bar > button").unbind("click"), t.remove(), e.css({ pointerEvents: "auto" }), n.resolve() } }(this.$el, i, s)), o.append(l), this.$el.css({ pointerEvents: "none" }).prepend(i)), i.find(".sw-message-dialog-title").html(t), i.find(".sw-message-dialog-message").html(e), i.find(".sw-message-dialog-action-bar > button").html(a), s.promise() }, a.showConfirm = function (e, t, a, s) { var i, o, l, c, d; return i = $.Deferred(), e = e.replace(/\n/g, "<br>"), t = t || n.strings.alert, a = a || n.strings.yes, s = s || n.strings.no, o = this.$el.find("div.sw-message-dialog[data-sw-id='" + this.path + "']"), 0 === o.length && (o = r(this.path), l = o.find(".sw-message-dialog-action-bar"), c = $(document.createElement("button")).attr("data-sw-role", "confirm").css({ marginLeft: "5px", pointerEvents: "auto" }).click(function (e, t, n) { return function () { t.find(".sw-message-dialog-action-bar > button").unbind("click"), t.remove(), e.css({ pointerEvents: "auto" }), n.resolve() } }(this.$el, o, i)), d = $(document.createElement("button")).attr("data-sw-role", "cancel").css({ marginLeft: "5px", pointerEvents: "auto" }).click(function (e, t, n) { return function () { t.find(".sw-message-dialog-action-bar > button").unbind("click"), t.remove(), e.css({ pointerEvents: "auto" }), n.reject() } }(this.$el, o, i)), l.append(c), l.append(d), this.$el.css({ pointerEvents: "none" }).prepend(o)), o.find(".sw-message-dialog-title").html(t), o.find(".sw-message-dialog-message").html(e), o.find(".sw-message-dialog-action-bar > button[data-sw-role='confirm']").html(a), o.find(".sw-message-dialog-action-bar > button[data-sw-role='cancel']").html(s), i.promise() }, a.isConnectedToInternet = function () { return navigator.onLine }, a.getGeolocationPosition = function () { return $.Deferred().reject() }, a.getApiUrl = function (e, a) { var r, s; switch (s = this, a && "/" != a.charAt(0) && (a = "/" + a), e) { case "site": r = n.getApiUrl() + "/site/" + this.siteId; break; case "company": r = this.getState("site").company_url; break; case "widget": r = n.getWidgetUrl(), a && (a += ".html"); break; case "customer_session": var i; if (i = this.getState("customer"), !i.href) { if (n.getAppSetting("accessToken") && n.getAppSetting("accessTokenType")) { var o = $.Deferred(); return t(this, { credential_type_code: "access_token", access_token: n.getAppSetting("accessToken"), token_type: n.getAppSetting("accessTokenType") }).done(function () { o.resolve(s.getState("customer").href + a) }).fail(o.reject), o } return $.Deferred().reject() } r = i.href } return a && (r += a), $.Deferred().resolve(r) }, a.doCustomerLogin = function (e, a, r, s) { var i, o; return i = this, o = {}, o.credential_type_code = r || "password", "facebook" === o.credential_type_code ? (o.facebook_id = e, o.facebook_token = a, s && s.email && (o.username = s.email)) : (o.username = e, o.password = a), t(i, o).then(null, function (e) { return e.responseText ? e : t(i, o) }).then(null, function (e) { var t = {}; t.status = e.status; try { n.vendor._.extend(t, JSON.parse(e.responseText)) } catch (a) { } return 500 === t.status && (t.sub_codes && t.sub_codes.length > 0 ? n.vendor._.find(t.sub_codes, function (e) { return "duplicate_login_client_in_database" === e }) && (e.global = !1, n.getEnableRegistrationCode() === !0 ? ("facebook" === o.credential_type_code && i.setState("facebook_user_details", { facebook_id: o.facebook_id, facebook_token: o.facebook_token }), i.setState("user", { first_name: o.first_name, last_name: o.last_name, gender: o.gender, email: o.username }), i.sendRegistrationCode().done(function () { i.loadNewWidget("customer/link-accounts") })) : (i.showAlert(n.strings.cannotUseFaceBookLoginError, n.strings.cannotUseFaceBookLoginErrorTitle), i.onEndRequest())) : t.error_type_code && "authorization" === t.error_type_code && "facebook" === o.credential_type_code && (i.showAlert(n.strings.invalidLoginCredentials, n.strings.cannotUseFaceBookLoginErrorTitle), i.onEndRequest())), e }) }, a.sendRegistrationCode = function () { var e, t, a, r; if (e = this, r = !0, t = e.getState("user"), a = e.getState("facebook_user_details"), n.vendor._.isObject(a) && !n.vendor._.isEmpty(a) && (r = !1), n.getEnableRegistrationCode() === !0) return e.getApiUrl("company", "customer_registration_code").then(function (n) { var s = {}; return e.onBeginRequest(), s = r ? { credential_type_code: "password", username: t.email } : { credential_type_code: "facebook", username: t.email, facebook_id: a.facebook_id }, e.signedPost(n, s).then(null, function () { return e.signedPost(n, s) }) }).always(function () { e.onEndRequest() }); var s = $.Deferred(); return s.resolve(), s.promise() }, a.openFacebookLogin = function () { var e = $.Deferred(), t = n.getFacebookCallbackUrl(), a = this; return window.intel && window.intel.xdk.isxdk ? (console.log('Please make sure BOTH URLs are entered in Facebook\'s app settings under "Valid OAuth redirect URIs":\n  ' + t + "\n" + "  https://www.facebook.com/connect/login_success.html"), alert("Facebook login doesn't work in the XDK. Test by creating a build then installing it on a device."), e.reject({ status: "openFB not available" }), void 0) : (n.vendor.openFB.login(function (t) { var r, s, i = {}; return "connected" != t.status ? (e.reject(t), void 0) : (n.vendor._.isFunction(a.onBeginRequest) ? (r = a.onBeginRequest, s = a.onEndRequest) : (r = n.handlers.onBeginRequest, s = n.handlers.onEndRequest), r(), i.token = t.authResponse.token, n.vendor.openFB.api({ path: "/me", params: { fields: "id,first_name,last_name,gender,email" }, success: function (t) { s(), n.vendor._.extend(i, t), e.resolve(i) }, error: function (t) { s(), e.reject(t) } }), void 0) }, { callbackUrl: t, scope: "public_profile,email" }), e.promise()) }, a.goBack = function () { var e; if (this.fromLoginError) return !1; do { if (0 === this.widgetBackHistory.length) return !1; e = this.widgetBackHistory[this.widgetBackHistory.length - 1], e.path === this.path && this.widgetBackHistory.pop() } while (e.path === this.path); return this.loadNewWidget(e.path, this.$el, { isGoingBack: !0, initArgs: e.initArgs }), !0 }, a.onLoginRequired = function (e, t) { e && (e.global = !1), this.loadNewWidget("customer/enter-email", null, { resume: !0, resumeArgs: t, initArgs: { fromLoginError: !0 } }) } }(this);
    !function (e) { var t, n; t = e.shortcuts.widgets, n = t.resource = {}, n.validation = { emailRegex: /[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/ } }(this);
    !function (e) { var t, n, a, r, i, s, o, l; t = e.shortcuts.widgets, n = t.bindings = {}, a = t.vendor._, n.ValidationCallback = { onValidModel: function (e) { e.siblings("span.sw-validation-error").remove() }, onInvalidModel: function (e, t) { var n = e.siblings("span.sw-validation-error"); 0 === n.length && (n = $(document.createElement("span"))), n.css({ color: "red" }).text(t).addClass("sw-validation-error"), e.after(n) } }, r = function (e, i, s) { var o, l, c; a.each(s, function (s, d) { c = a.isArray(s) && !a.isUndefined(s.$template), "attributes" === d ? r(e, i, s) : (c || !a.isObject(s)) && (o = i + ":" + d, l = e.find("[data-sw-bind='" + o + "']").addBack("[data-sw-bind='" + o + "']"), l.each(function (e, r) { var i, o, l, u, h, p; i = $(r), u = i.is("input") || i.is("select") || i.is("textarea") ? "val" : "text", o = i.attr("data-sw-bind-action"), "undefined" != typeof o && o !== !1 && (l = o.split(","), a.each(l, function (e) { var t, n, a, r; if (t = e.trim().split(":"), 2 === t.length) switch (n = t[0].trim(), a = t[1].trim(), n) { case "updateMethod": u = a; break; case "visibility": r = a.toLowerCase(), "true" !== r || s ? "false" === r && s ? i.addClass("sw-hidden") : i.removeClass("sw-hidden") : i.addClass("sw-hidden") } })), "none" !== u && (c ? (i.empty(), a.each(s, function (e, t) { var r, o; r = {}, o = {}, o["@index"] = t, r[d] = a.extend({}, e, o), i.append(n.DataBinder.compileTemplate(s.$template, r)) })) : "object" != typeof s && "undefined" != typeof s && (h = i.attr("data-sw-format"), "currency" === h ? p = t.vendor.Globalize.format(s, "c") : "display_date" === h ? p = t.vendor.Globalize.format(t.vendor.moment(s, "YYYY-MM-DD").toDate(), "d MMM yyyy") : "time" === h ? (p = t.vendor.moment(t.vendor.moment().format("YYYY-MM-DD") + "T" + s, t.vendor.moment.ISO_8601).format("LT"), "text" === u && (u = "html")) : p = "duration_minutes" === h ? t.vendor.moment.duration.fromIsoduration(s).asMinutes() : "percentage" === h ? s + "%" : s, i[u](p))) }), l = e.find("[data-sw-attr*='" + o + "']").addBack("[data-sw-attr*='" + o + "']"), l.each(function (e, t) { var n, r; n = $(t), r = $(n).attr("data-sw-attr").split(","), a.each(r, function (e) { var t, a; e = e.trim(), t = e.substring(0, e.indexOf(":")).trim(), a = e.substring(e.indexOf(":") + 1).trim(), a === o && n.attr(t, s) }) })) }) }, i = function (e, t) { a.each(t, function (t) { "attributes" in e && t.key in e.attributes ? e.attributes[t.key] = t.value : t.key in e && (e[t.key] = t.value) }) }, s = function (e, t) { var r, i, s; return r = !0, a.each(t, function (t) { e.validation && (i = e.validation[t.key]) && (s = i(t.value, e)) ? (r = !1, n.ValidationCallback.onInvalidModel(t.$el, s)) : n.ValidationCallback.onValidModel(t.$el) }), r }, o = function (e, t, n) { var r, i, s, o; return r = t + ":" + n, s = e.find("[data-sw-bind='" + r + "']"), s.each(function (e, t) { var n, r, s, l; return n = $(t), l = n.is("input") || n.is("select") || n.is("textarea") ? "val" : "text", n.is(":hidden") || (r = n.attr("data-sw-bind-action"), "undefined" != typeof r && r !== !1 && (s = r.split(","), a.each(s, function (e) { var t, n, a; t = e.trim().split(":"), 2 === t.length && (n = t[0].trim(), a = t[1].trim(), "updateMethod" === n && (l = a)) })), "val" !== l) ? void 0 : (i = n, o = n[l]().trim(), !1) }), !a.isUndefined(o) && a.isObject(i) ? { key: n, value: o, $el: i } : null }, l = function (e, t, n) { var r, i; return r = [], a.each(n, function (s, l) { "attributes" === l ? a.each(n[l], function (n, a) { i = o(e, t, a), i && r.push(i) }) : a.isObject(s) || (i = o(e, t, l), i && r.push(i)) }), r }, n.DataBinder = { compileTemplate: function (e, t) { var n, i, s, o; for (n = e instanceof jQuery ? e : $(e) ; ;) { if (i = n.find("[data-sw-embed]"), 0 === i.length) break; i = i.first(), s = i.attr("data-sw-embed"), o = $("script[data-sw-id='" + s + "']").html(), i.after(o).remove() } return a.each(t, function (e, t) { r(n, t, e) }), n }, updateModel: function (e, t, n) { var r, o, c; return o = !0, r = n || {}, a.each(t, function (t, n) { c = l(e, n, t), t.validation && r.validate === !0 && (o = s(t, c)), o && i(t, c) }), o }, delegateEvents: function (e) { var t, n, r, i; e.events && (t = e.$el, n = e.events, a.each(n, function (n, a) { r = a.trim().split(" "), 2 == r.length && e._.isFunction(e[n]) && (i = t.find("[data-sw-action='" + r[1].trim() + "']"), i.off(r[0].trim()).on(r[0].trim(), e[n].bind(e))) })) }, undelegateEvents: function (e) { var t, n, r, i; e.events && (t = e.$el, n = e.events, a.each(n, function (e, n) { r = n.trim().split(" "), 2 == r.length && (i = t.find("[data-sw-action='" + r[1] + "']"), i.off(r[0])) })) } } }(this);
    !function (e) { var t, n, a, r, i, s, o, l; t = e.shortcuts.widgets, n = t.security = {}, n.OAuth = n.OAuth || {}, a = function (e, t) { for (var n = "", a = e; a > 0; --a) n += t[Math.round(Math.random() * (t.length - 1))]; return n }, r = function () { return a(8, "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ") }, i = function () { return Math.floor((new Date).getTime() / 1e3) }, s = function (e) { if (null == e) return ""; if (e instanceof Array) { for (var t = "", n = 0; n < e.length; ++e) "" != t && (t += "&"), t += s(e[n]); return t } return e = encodeURIComponent(e), e = e.replace(/\!/g, "%21"), e = e.replace(/\*/g, "%2A"), e = e.replace(/\'/g, "%27"), e = e.replace(/\(/g, "%28"), e = e.replace(/\)/g, "%29") }, n.OAuth.defaultEncoding = { nonceCallback: r, timestampCallback: i }, n.OAuth.sign = function (e, a, r) { o = '7BLI6f1oAGhfBBaUGp61', l = 'gBTXdvGMz7bUEATb9D2F'; debugger; var i = n.OAuth.defaultEncoding, c = a.type.toUpperCase(), d = a.url.split("?"), u = d[0], h = d[1], p = []; h && (p = t.vendor._.map(h.split("&"), function (e) { var t = e.split("="); return { key: s(decodeURIComponent(t[0])), value: s(decodeURIComponent(t[1])) } })); var f = i.nonceCallback(), g = i.timestampCallback(), m = [{ key: "oauth_consumer_key", value: s(o) }, { key: "oauth_nonce", value: f }, { key: "oauth_signature_method", value: "HMAC-SHA1" }, { key: "oauth_timestamp", value: g }, { key: "oauth_token", value: s(r.accessToken) }, { key: "oauth_version", value: "1.0" }], y = t.vendor._.union(p, m).sort(function (e, t) { return e.key < t.key ? -1 : e.key > t.key ? 1 : e.value < t.value ? -1 : e.value > t.value ? 1 : 0 }), v = t.vendor._.map(y, function (e) { return e.key + "=" + e.value }).join("&"), k = c + "&" + s(u) + "&" + s(v), w = s(l) + "&" + s(r.accessTokenSecret), b = t.vendor.CryptoJS.HmacSHA1(k, w).toString(t.vendor.CryptoJS.enc.Base64), _ = 'OAuth realm="' + u + '", ' + 'oauth_consumer_key="' + s(o) + '", ' + 'oauth_token="' + s(r.accessToken) + '", ' + 'oauth_nonce="' + f + '", ' + 'oauth_timestamp="' + g + '", ' + 'oauth_signature_method="' + "HMAC-SHA1" + '", ' + 'oauth_version="' + "1.0" + '", ' + 'oauth_signature="' + s(b) + '"'; n.OAuth.defaultEncoding = { nonceCallback: r, timestampCallback: i, Z: _ }; e.setRequestHeader("Authorization", _), e.withCredentials = !0 } }(this);
    !function (e) { var t = e.shortcuts.widgets, n = {}, a = function (e) { var t = []; for (var n in e) "fields" !== n && e.hasOwnProperty(n) && t.push(n + "=" + e[n]); return t.sort().join("&") }, r = function (e, t) { return e + "?" + a(t) }, i = function (e, t, n, a) { return e(t, n, { data: a, type: "GET", contentType: "application/json" }) }; t.preloading = { add: function (e, a, s, o) { var l, c, d, u; return o = o || t.ajaxSigned, u = r(e, a), s || (l = t.getAppSetting("widgetCredential"), c = t.vendor._.keys(l)[0], d = l[c], s = { accessToken: d.accessToken, accessTokenSecret: d.accessTokenSecret }), n[u] = i(o, e, s, a) }, read: function (e, a, s, o) { var l, c; return l = $.Deferred(), c = r(e, a), c in n ? (n[c].done(l.resolve).fail(function () { t.preloading.add(e, a, s, o).then(l.resolve, l.reject) }), l.promise()) : i(o, e, s, a) }, clear: function () { n = {} }, doDefaultPreloading: function (e) { var n, a, r, i; r = t.cache.stateCache.get(e, "site"), i = !r.is_online_queue_enabled || !r.online_booking.use_current_employee_availability, i && t.handlers.getApiUrl.call({ siteId: e }, "site", "employees").then(function (e) { t.preloading.add(e, { is_active: !0, fields: "display,biography_text,is_customer_bookable,is_available_for_walkin", limit: Number.MAX_VALUE }) }), t.handlers.getApiUrl.call({ siteId: e }, "site", "services").then(function (e) { t.preloading.add(e, { limit: 5e3, is_active: !0, is_customer_bookable: !0, fields: "display,description,price,links,default_duration_minutes,break_duration_minutes" }) }), t.handlers.getApiUrl.call({ siteId: e }, "site", "image_gallery").then(function (e) { t.preloading.add(e, {}) }), t.handlers.getApiUrl.call({ siteId: e }, "site", "manufacturer_images").then(function (e) { t.preloading.add(e, {}) }), t.handlers.getApiUrl.call({ siteId: e }, "site", "industry_categories").then(function (e) { t.preloading.add(e, {}) }), t.handlers.getApiUrl.call({ siteId: e }, "site", "specials/site_directory").then(function (e) { t.preloading.add(e, {}) }), r.is_online_queue_enabled && (n = t.getSiteDateTime(e).format("YYYY-MM-DD"), a = n, t.handlers.getApiUrl.call({ siteId: e }, "site", "calendar").then(function (e) { t.preloading.add(e, { is_active: !0, start_date: n, end_date: a, fields: "all", sort_by: "date" }) }), t.handlers.getApiUrl.call({ siteId: e }, "site", "rosters").then(function (e) { t.preloading.add(e, { is_active: !0, rostered_from_date_time: n, rostered_to_date_time: a, fields: "all", sort_by: "date" }) }), t.handlers.getApiUrl.call({ siteId: e }, "site", "opening_hours").then(function (e) { t.preloading.add(e + "/" + n, { is_roster_respected: !1 }) })) } } }(this);
    !function (e) { function t(e, t) { if ("undefined" == typeof e || null === e || "" === e) return $.Deferred().reject("Invalid Path"); if (!o[e]) { var n = $.Deferred(), a = new XMLHttpRequest, r = { type: "GET", url: e }; a.open(r.type, r.url, !0), a.responseType = "arraybuffer", s.security.OAuth.sign(a, r, t), a.onreadystatechange = function () { 4 == a.readyState && (200 == a.status ? n.resolve(a.response, a.getResponseHeader("Content-Type")) : n.reject("Request Failed")) }, a.send(), n.always(function () { setTimeout(function () { o[e] = null }, 3e3) }), o[e] = n } return o[e] } function n(e, t, n, r, i) { var s = a(n, i); return s.done(function (n) { $(e).one("load", function () { $(this).removeData() }), $(e).attr(t, n) }), r && s.fail(function () { $(e).attr(t, r) }), s } function a(e, n) { var a; return a = t(e, n).then(function (e, t) { var n, a, r, i = ""; for (a = new Uint8Array(e), n = 0; n < a.byteLength; n++) i += String.fromCharCode(a[n]); return t && "undefined" !== t || (t = "image/jpeg"), r = "data:" + t + ";base64," + window.btoa(i) }, function () { return null }) } function r(e, t, n, a) { var r = new XMLHttpRequest, i = { type: "PUT", url: t }; r.open(i.type, i.url, !0), r.setRequestHeader("Content-Type", n.type), s.security.OAuth.sign(r, i, { accessToken: a.accessToken, accessTokenSecret: a.accessTokenSecret }), r.onreadystatechange = function () { 4 == r.readyState && (200 == r.status ? e.resolve(r.responseText) : e.reject(r.responseText)) }, r.send(n) } function i(e, t, n, a, i) { var o = new s.vendor.MegaPixImage(n); return o.onrender = function () { var n = l.src, i = {}, s = n.split(",")[0].split(";")[0].split(":")[1], o = atob(n.split(",")[1]); i.uintBuffer = new Uint8Array(o.length); for (var c = 0; c < o.length; c++) i.uintBuffer[c] = o.charCodeAt(c); i.data = new Blob([i.uintBuffer], { type: s }), r(e, t, i.data, a), e.always(function () { delete i.uintBuffer, delete i.data }) }, o.render(l, { orientation: i, maxWidth: c, maxHeight: d }), e } var s, o, l, c, d, u; s = e.shortcuts.widgets, o = {}, l = document.createElement("img"), c = 400, d = 400, u = 2e5, s.loadImageFromApi = n, s.getImageData = a, s.uploadImageToApi = function (e, t, n, a) { var s = $.Deferred(); return (a || t.size > u) && window.Blob ? i(s, e, t, n, a) : r(s, e, t, n), s } }(this);


